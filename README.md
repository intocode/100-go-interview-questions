# 100 –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è Go-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

–°–±–æ—Ä–Ω–∏–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—é –Ω–∞ –ø–æ–∑–∏—Ü–∏—é Go-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.

> üìö **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è:** –ï—Å–ª–∏ –≤–∞–º —É–¥–æ–±–Ω–µ–µ —É—á–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏, –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ —Å—Ö–µ–º–∞–º–∏ –∏ –º–Ω–µ–º–æ–Ω–∏–∫–∞–º–∏, –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –≤–µ—Ç–∫—É [`learning-structured`](../../tree/learning-structured) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [—Ç–µ–≥ `v1.0-learning`](../../releases/tag/v1.0-learning).
>
> –£—á–µ–±–Ω–∞—è –≤–µ—Ä—Å–∏—è –≤–∫–ª—é—á–∞–µ—Ç:
> - üî∑ 9 —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
> - üìä ASCII-–¥–∏–∞–≥—Ä–∞–º–º—ã –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π
> - üß† –ú–Ω–µ–º–æ–Ω–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
> - üîë –¢–∞–±–ª–∏—Ü—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
> - üè∑Ô∏è –¢–µ–≥–∏ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

---

## –í–æ–ø—Ä–æ—Å—ã

### 1. –ß—Ç–æ —Ç–∞–∫–æ–µ –≥–æ—Ä—É—Ç–∏–Ω–∞ –∏ —á–µ–º –æ–Ω–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –ø–æ—Ç–æ–∫–∞ –û–°?

[–ì–æ—Ä—É—Ç–∏–Ω–∞][goroutines] ‚Äî –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π —Ä–∞–Ω—Ç–∞–π–º–æ–º Go, –∞ –Ω–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π. –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è:

- –†–∞–∑–º–µ—Ä —Å—Ç–µ–∫–∞ –≥–æ—Ä—É—Ç–∏–Ω—ã –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 2 –ö–ë (—É –ø–æ—Ç–æ–∫–∞ –û–° –æ–±—ã—á–Ω–æ 1-8 –ú–ë)
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏ –¥–µ—à–µ–≤–ª–µ ‚Äî –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
- –¢—ã—Å—è—á–∏ –≥–æ—Ä—É—Ç–∏–Ω –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ç–æ–∫–∞—Ö –û–° (–º–æ–¥–µ–ª—å M:N)

---

### 2. –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–∞–Ω–∞–ª—ã –≤ Go –∏ —á–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç –Ω–µ–±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö?

[–ö–∞–Ω–∞–ª][channels] ‚Äî —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –º–µ–∂–¥—É –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏.

**–ù–µ–±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª** (`make(chan T)`):

- –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—å –Ω–µ –ø—Ä–æ—á–∏—Ç–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –º–µ–∂–¥—É –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏

**[–ë—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª][channel-buffering]** (`make(chan T, N)`):

- –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –±—É—Ñ–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω
- –ü–æ–ª—É—á–∞—Ç–µ–ª—å –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –±—É—Ñ–µ—Ä –ø—É—Å—Ç

---

### 3. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `select` –∏ —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –µ—Å–ª–∏ –≤—Å–µ –∫–∞–Ω–∞–ª—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã?

[`select`][select] –ø–æ–∑–≤–æ–ª—è–µ—Ç –∂–¥–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–Ω–∞–ª–∞—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π –≥–æ—Ç–æ–≤—ã–π case; –µ—Å–ª–∏ –≥–æ—Ç–æ–≤—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ ‚Äî –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–π.

**–ï—Å–ª–∏ –≤—Å–µ –∫–∞–Ω–∞–ª—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã:**

- –ë–µ–∑ `default` ‚Äî `select` –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ª—é–±–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- –° `default` ‚Äî —Å—Ä–∞–∑—É –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `default`, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–µ—Ç

---

### 4. –ß—Ç–æ —Ç–∞–∫–æ–µ zero value –≤ Go –∏ –∫–∞–∫–∏–µ —Ç–∏–ø—ã –∏–º–µ—é—Ç –∫–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é?

Zero value ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä—ã–º Go –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ –∏–Ω–æ–µ. –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤ Go –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–≤–∞–µ—Ç "–Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π" ‚Äî –æ–Ω–∞ –≤—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç zero value —Å–≤–æ–µ–≥–æ —Ç–∏–ø–∞.

**Zero values –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤:**

- –ß–∏—Å–ª–∞ (`int`, `float64`, –∏ —Ç.–¥.) ‚Äî `0`
- `bool` ‚Äî `false`
- `string` ‚Äî `""` (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞)
- [–£–∫–∞–∑–∞—Ç–µ–ª–∏][pointers], `func`, `interface`, [slice][slices], [map][maps], `chan` ‚Äî `nil`
- –°—Ç—Ä—É–∫—Ç—É—Ä—ã ‚Äî –≤—Å–µ –ø–æ–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å–≤–æ–∏–º–∏ zero values

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–ª–µ–¥—Å—Ç–≤–∏—è:**

- `var m map[string]int` ‚Äî nil-map, —á—Ç–µ–Ω–∏–µ –≤–µ—Ä–Ω—ë—Ç zero value, –Ω–æ –∑–∞–ø–∏—Å—å –≤—ã–∑–æ–≤–µ—Ç panic
- `var s []int` ‚Äî nil-slice, `len(s) == 0`, `append` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ú–æ–∂–Ω–æ –æ–±—ä—è–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ —Å—Ä–∞–∑—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: `var wg sync.WaitGroup`

---

### 5. –í –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è defer –∏ –∫–æ–≥–¥–∞ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç—ã?

[`defer`][defer] –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ù–µ—Å–∫–æ–ª—å–∫–æ `defer` –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ [LIFO](https://ru.wikipedia.org/wiki/LIFO) (–ø–æ—Å–ª–µ–¥–Ω–∏–º –ø—Ä–∏—à—ë–ª ‚Äî –ø–µ—Ä–≤—ã–º —É—à—ë–ª).

–ê—Ä–≥—É–º–µ–Ω—Ç—ã `defer` –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏, –∞ –Ω–µ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏:

```go
x := 1
defer fmt.Println(x) // –≤—ã–≤–µ–¥–µ—Ç 1, –Ω–µ 2
x = 2
```

---

### 6. –ß—Ç–æ —Ç–∞–∫–æ–µ data race –∏ –∫–∞–∫ –µ—ë –∏–∑–±–µ–∂–∞—Ç—å –≤ Go?

Data race (–≥–æ–Ω–∫–∞ –¥–∞–Ω–Ω—ã—Ö) ‚Äî —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ –¥–≤–µ –∏–ª–∏ –±–æ–ª–µ–µ –≥–æ—Ä—É—Ç–∏–Ω –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ –æ–¥–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –∏–∑ –Ω–∏—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø–∏—Å—å.

**–°–ø–æ—Å–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å:**

- [`sync.Mutex`][mutexes]
- `sync.RWMutex`
- `sync/atomic`
- –ö–∞–Ω–∞–ª—ã

–ö–∞–∫ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å: —Ñ–ª–∞–≥ `-race` –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –∏–ª–∏ –∑–∞–ø—É—Å–∫–µ (`go run -race`, `go test -race`).

---

### 7. –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–∞–∫–µ—Ç `context` –∏ –∫–∞–∫–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—Ç?

–ü–∞–∫–µ—Ç [`context`][context] –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –≥–æ—Ä—É—Ç–∏–Ω—ã: –ø–µ—Ä–µ–¥–∞—ë—Ç –¥–µ–¥–ª–∞–π–Ω—ã –∏ —Å–∏–≥–Ω–∞–ª—ã –æ—Ç–º–µ–Ω—ã, –∞ —Ç–∞–∫–∂–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ä–∞–º–∫–∞—Ö –∑–∞–ø—Ä–æ—Å–∞. –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (HTTP-–∑–∞–ø—Ä–æ—Å—ã, –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î).

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è:**

- `context.Background()` ‚Äî –ø—É—Å—Ç–æ–π –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
- `context.TODO()` ‚Äî placeholder, –∫–æ–≥–¥–∞ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –∫–∞–∫–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- `context.WithCancel(parent)` ‚Äî –æ—Ç–º–µ–Ω–∞ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ `cancel()`
- `context.WithTimeout(parent, duration)` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–º–µ–Ω–∞ —á–µ—Ä–µ–∑ –≤—Ä–µ–º—è
- `context.WithDeadline(parent, time)` ‚Äî –æ—Ç–º–µ–Ω–∞ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏
- `context.WithValue(parent, key, val)` ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –∑–Ω–∞—á–µ–Ω–∏–π

---

### 8. –ß—Ç–æ —Ç–∞–∫–æ–µ –º–æ–¥–µ–ª—å GMP –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–µ Go?

GMP ‚Äî –º–æ–¥–µ–ª—å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ —Ä–∞–Ω—Ç–∞–π–º–∞ Go, —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑ —Ç—Ä—ë—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

- **G (Goroutine)** ‚Äî –≥–æ—Ä—É—Ç–∏–Ω–∞ —Å–æ —Å–≤–æ–∏–º —Å—Ç–µ–∫–æ–º –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **M (Machine)** ‚Äî –ø–æ—Ç–æ–∫ –û–°, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–π –∫–æ–¥
- **P (Processor)** ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –æ—á–µ—Ä–µ–¥—å—é –≥–æ—Ä—É—Ç–∏–Ω

P —Å–≤—è–∑—ã–≤–∞–µ—Ç G –∏ M: —É –∫–∞–∂–¥–æ–≥–æ P –µ—Å—Ç—å –æ—á–µ—Ä–µ–¥—å –≥–æ—Ç–æ–≤—ã—Ö –≥–æ—Ä—É—Ç–∏–Ω, M –±–µ—Ä—ë—Ç –≥–æ—Ä—É—Ç–∏–Ω—ã –∏–∑ –æ—á–µ—Ä–µ–¥–∏ —Å–≤–æ–µ–≥–æ P. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ P –∑–∞–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ `GOMAXPROCS` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —á–∏—Å–ª–æ —è–¥–µ—Ä CPU).

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω P:** –¥–æ Go 1.1 –±—ã–ª–∞ –º–æ–¥–µ–ª—å GM, –≥–¥–µ –≤—Å–µ –≥–æ—Ä—É—Ç–∏–Ω—ã —Ö—Ä–∞–Ω–∏–ª–∏—Å—å –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏ —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π. P –¥–æ–±–∞–≤–ª—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ ‚Äî —ç—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—é –∑–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ª–æ–∫.

–ï—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å P –ø—É—Å—Ç–∞, M –∫—Ä–∞–¥—ë—Ç –≥–æ—Ä—É—Ç–∏–Ω—ã –∏–∑ –æ—á–µ—Ä–µ–¥–µ–π –¥—Ä—É–≥–∏—Ö P.

---

### 9. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å—Ç–µ–∫–æ–º –∏ –∫—É—á–µ–π –≤ Go –∏ –ø–æ—á–µ–º—É –∞–ª–ª–æ–∫–∞—Ü–∏—è –≤ –∫—É—á–µ –¥–æ—Ä–æ–∂–µ?

**–°—Ç–µ–∫** ‚Äî –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –≥–æ—Ä—É—Ç–∏–Ω—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π. –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É LIFO: –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–∞–º—è—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–¥–≤–∏–≥–æ–º —É–∫–∞–∑–∞—Ç–µ–ª—è (–æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ).

**–ö—É—á–∞** ‚Äî –æ–±—â–∞—è –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –¥–ª—è –≤—Å–µ—Ö –≥–æ—Ä—É—Ç–∏–Ω. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ–ª–∂–Ω–∞ –ø–µ—Ä–µ–∂–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∏–ª–∏ –µ—ë —Ä–∞–∑–º–µ—Ä –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞.

**–ü–æ—á–µ–º—É –∫—É—á–∞ –¥–æ—Ä–æ–∂–µ:**

- –ù—É–∂–µ–Ω –ø–æ–∏—Å–∫ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –±–ª–æ–∫–∞ –Ω—É–∂–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
- –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–∫—É—á–∞ –æ–±—â–∞—è –¥–ª—è –≤—Å–µ—Ö –≥–æ—Ä—É—Ç–∏–Ω)
- –°–æ–∑–¥–∞—ë—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ GC ‚Äî —Å–±–æ—Ä—â–∏–∫ –¥–æ–ª–∂–µ–Ω –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã

---

### 10. –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω —Å–ª–∞–π—Å –≤–Ω—É—Ç—Ä–∏ –∏ —á–µ–º –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –º–∞—Å—Å–∏–≤–∞?

[–°–ª–∞–π—Å][slices] ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑ —Ç—Ä—ë—Ö –ø–æ–ª–µ–π: —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ underlying array, –¥–ª–∏–Ω–∞ (`len`) –∏ —ë–º–∫–æ—Å—Ç—å (`cap`).

```go
type slice struct {
    array unsafe.Pointer
    len   int
    cap   int
}
```

**–û—Ç–ª–∏—á–∏—è –æ—Ç –º–∞—Å—Å–∏–≤–∞:**

- [–ú–∞—Å—Å–∏–≤][arrays] ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞, –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è —Ü–µ–ª–∏–∫–æ–º –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ
- –°–ª–∞–π—Å ‚Äî —Å—Å—ã–ª–æ—á–Ω—ã–π —Ç–∏–ø, –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (24 –±–∞–π—Ç–∞), –Ω–µ –¥–∞–Ω–Ω—ã–µ
- –ü—Ä–∏ `append` —Å–≤–µ—Ä—Ö capacity —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ (–æ–±—ã—á–Ω–æ —Å —É–¥–≤–æ–µ–Ω–Ω–æ–π —ë–º–∫–æ—Å—Ç—å—é)

---

### 11. –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ map –≤ Go –∏ —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏?

[Map][maps] ‚Äî —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞. –î–∞–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –≤ –º–∞—Å—Å–∏–≤ –±–∞–∫–µ—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Ö—Ä–∞–Ω–∏—Ç –¥–æ 8 –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ. –ü—Ä–∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö —Ö–µ—à–µ–π —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∞–∫–µ—Ç—ã, –æ–±—Ä–∞–∑—É—é—â–∏–µ —Ü–µ–ø–æ—á–∫—É.

**–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø:**

- –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —á—Ç–µ–Ω–∏–µ ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ
- –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å –∏–ª–∏ –¥–≤–µ –∑–∞–ø–∏—Å–∏ ‚Äî data race, –ø—Ä–æ–≥—Ä–∞–º–º–∞ —É–ø–∞–¥—ë—Ç —Å `fatal error: concurrent map writes`
- Go —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—É—é –∑–∞–ø–∏—Å—å –≤ map –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º—É

**–†–µ—à–µ–Ω–∏—è:**

- `sync.Mutex` –∏–ª–∏ `sync.RWMutex` –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–æ—Å—Ç—É–ø–∞
- `sync.Map` ‚Äî –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è map –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –ø—Ä–∏ —Ä–µ–¥–∫–∏—Ö –∑–∞–ø–∏—Å—è—Ö –∏ —á–∞—Å—Ç—ã—Ö —á—Ç–µ–Ω–∏—è—Ö)

---

### 12. –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å panic/recover –∏ –ø–æ—á–µ–º—É recover —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ defer?

[`panic`][panic] ‚Äî –∞–≤–∞—Ä–∏–π–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø—Ä–∏ –Ω–µ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º—ã—Ö –æ—à–∏–±–∫–∞—Ö. [`recover`][recover] ‚Äî –ø–µ—Ä–µ—Ö–≤–∞—Ç –ø–∞–Ω–∏–∫–∏ –¥–ª—è graceful shutdown.

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å panic:**

- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É (–Ω–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥, –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç)
- –û—à–∏–±–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ (nil-—É–∫–∞–∑–∞—Ç–µ–ª—å —Ç–∞–º, –≥–¥–µ –æ–Ω –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω –ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É)

**–ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

- –î–ª—è –æ–±—ã—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–π `error`
- –î–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞

**–ü–æ—á–µ–º—É recover —Ç–æ–ª—å–∫–æ –≤ defer:** –ø—Ä–∏ –ø–∞–Ω–∏–∫–µ Go —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Å—Ç–µ–∫ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏. –û–±—ã—á–Ω—ã–π –∫–æ–¥ –ø–æ—Å–ª–µ `panic` –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.

```go
defer func() {
    if r := recover(); r != nil {
        log.Printf("recovered: %v", r)
    }
}()
```

**–í–∞–∂–Ω–æ:** `recover` –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –ø–∞–Ω–∏–∫—É —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–π –∂–µ –≥–æ—Ä—É—Ç–∏–Ω–µ, –≥–¥–µ –æ–Ω–∞ –ø—Ä–æ–∏–∑–æ—à–ª–∞.

---

### 13. –ß—Ç–æ —Ç–∞–∫–æ–µ sync.WaitGroup –∏ –∫–∞–∫ –µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

[`sync.WaitGroup`][waitgroups] ‚Äî –ø—Ä–∏–º–∏—Ç–∏–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≥—Ä—É–ø–ø—ã –≥–æ—Ä—É—Ç–∏–Ω.

**–ú–µ—Ç–æ–¥—ã:**

- `Add(n)` ‚Äî —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫ –Ω–∞ n (–≤—ã–∑—ã–≤–∞—Ç—å –¥–æ –∑–∞–ø—É—Å–∫–∞ –≥–æ—Ä—É—Ç–∏–Ω—ã)
- `Done()` ‚Äî —É–º–µ–Ω—å—à–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫ –Ω–∞ 1 (–æ–±—ã—á–Ω–æ —á–µ—Ä–µ–∑ `defer`)
- `Wait()` ‚Äî –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –ø–æ–∫–∞ —Å—á—ë—Ç—á–∏–∫ –Ω–µ —Å—Ç–∞–Ω–µ—Ç —Ä–∞–≤–µ–Ω 0

```go
var wg sync.WaitGroup
for i := 0; i < 3; i++ {
    wg.Add(1)
    go func() {
        defer wg.Done()
        // —Ä–∞–±–æ—Ç–∞
    }()
}
wg.Wait()
```

**–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:**

- –í—ã–∑–æ–≤ `Add` –≤–Ω—É—Ç—Ä–∏ –≥–æ—Ä—É—Ç–∏–Ω—ã ‚Äî –≥–æ–Ω–∫–∞ —Å `Wait`
- –ü–µ—Ä–µ–¥–∞—á–∞ `WaitGroup` –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é ‚Äî –∫–æ–ø–∏—Ä—É–µ—Ç —Å—á—ë—Ç—á–∏–∫, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ª–æ–º–∞–µ—Ç—Å—è
- –ó–∞–±—ã—Ç—ã–π `Done` ‚Äî `Wait` –∑–∞–≤–∏—Å–Ω–µ—Ç –Ω–∞–≤—Å–µ–≥–¥–∞

---

### 14. –ß—Ç–æ —Ç–∞–∫–æ–µ sync.Once –∏ –∫–æ–≥–¥–∞ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

`sync.Once` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ä–æ–≤–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã–∑–æ–≤–æ–≤ –∏ –≥–æ—Ä—É—Ç–∏–Ω.

**–¢–∏–ø–∏—á–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**

- Lazy initialization (–ª–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
- Singleton-—Ä–µ—Å—É—Ä—Å—ã: –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∫ –ë–î, –ª–æ–≥–≥–µ—Ä, –∫–æ–Ω—Ñ–∏–≥

```go
var once sync.Once
var instance *DB

func GetDB() *DB {
    once.Do(func() {
        instance = connectToDB()
    })
    return instance
}
```

---

### 15. –ß—Ç–æ —Ç–∞–∫–æ–µ —Å—Ç—Ä–æ–∫–∞ –≤ Go –∏ –ø–æ—á–µ–º—É –æ–Ω–∞ –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–∞?

[–°—Ç—Ä–æ–∫–∞][strings-and-runes] –≤ Go ‚Äî —ç—Ç–æ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–∞–π—Ç. –í–Ω—É—Ç—Ä–∏ —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑ –¥–≤—É—Ö –ø–æ–ª–µ–π: —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –¥–∞–Ω–Ω—ã–µ –∏ –¥–ª–∏–Ω–∞.

```go
type stringStruct struct {
    str unsafe.Pointer
    len int
}
```

**–ü–æ—á–µ–º—É –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–∞:**

- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: —Å—Ç—Ä–æ–∫—É –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –º–µ–∂–¥—É –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏ –±–µ–∑ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- –°—Ç—Ä–æ–∫–∏ –º–æ–≥—É—Ç —Ä–∞–∑–¥–µ–ª—è—Ç—å –ø–∞–º—è—Ç—å (substring —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —á–∞—Å—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª–∞)
- –•–µ—à —Å—Ç—Ä–æ–∫–∏ –º–æ–∂–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å –æ–¥–∏–Ω —Ä–∞–∑ –∏ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å

**rune vs byte:**

- `[]byte` ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ –±–∞–π—Ç—ã, –¥–ª—è ASCII –∏ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `[]rune` ‚Äî Unicode code points (—Å–∏–º–≤–æ–ª—ã), –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å UTF-8 —Ç–µ–∫—Å—Ç–æ–º
- `len("–ø—Ä–∏–≤–µ—Ç")` –≤–µ—Ä–Ω—ë—Ç 12 (–±–∞–π—Ç—ã), –Ω–µ 6 (—Å–∏–º–≤–æ–ª—ã)

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏:** –Ω—É–∂–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ `[]byte` –∏–ª–∏ `[]rune`, –∏–∑–º–µ–Ω–∏—Ç—å, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω–æ. –ö–∞–∂–¥–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è ‚Äî –∞–ª–ª–æ–∫–∞—Ü–∏—è.

---

### 16. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ –≤ Go?

Go –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ —Å —Ç—Ä—ë—Ö—Ü–≤–µ—Ç–Ω–æ–π –º–∞—Ä–∫–∏—Ä–æ–≤–∫–æ–π (tricolor mark-and-sweep).

**–¢—Ä–∏ —Ü–≤–µ—Ç–∞ –æ–±—ä–µ–∫—Ç–æ–≤:**

- –ë–µ–ª—ã–π ‚Äî –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –º—É—Å–æ—Ä
- –°–µ—Ä—ã–π ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω, –Ω–æ —Å—Å—ã–ª–∫–∏ –µ—â—ë –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
- –ß—ë—Ä–Ω—ã–π ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω, –≤—Å–µ —Å—Å—ã–ª–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã

**–§–∞–∑—ã GC:**

1. Mark Setup (STW) ‚Äî –∫–æ—Ä–æ—Ç–∫–∞—è –ø–∞—É–∑–∞ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏
2. Marking (concurrent) ‚Äî –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ –¥–æ—Å—Ç–∏–∂–∏–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π
3. Mark Termination (STW) ‚Äî –∫–æ—Ä–æ—Ç–∫–∞—è –ø–∞—É–∑–∞ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
4. Sweeping (concurrent) ‚Äî –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –±–µ–ª—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

**Write barrier:** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –≤–æ –≤—Ä–µ–º—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ –±–∞—Ä—å–µ—Ä –∑–∞–ø–∏—Å–∏ –ø–æ–º–µ—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã —Å–µ—Ä—ã–º, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å –∂–∏–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã.

**STW-–ø–∞—É–∑—ã** –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º Go ‚Äî –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥—ã (–æ–±—ã—á–Ω–æ <100Œºs), –±–æ–ª—å—à–∞—è —á–∞—Å—Ç—å —Ä–∞–±–æ—Ç—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ.

---

### 17. –ß—Ç–æ —Ç–∞–∫–æ–µ embedding –≤ Go –∏ —á–µ–º –æ–Ω–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è?

[Embedding][struct-embedding] (–≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ) ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –≤ Go: –æ–¥–∏–Ω —Ç–∏–ø –≤–∫–ª—é—á–∞–µ—Ç –¥—Ä—É–≥–æ–π –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –∏–º–µ–Ω–∏ –ø–æ–ª—è. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ç–∏–ø ¬´–ø—Ä–æ–¥–≤–∏–≥–∞–µ—Ç¬ª —Å–≤–æ–∏ –ø–æ–ª—è –∏ –º–µ—Ç–æ–¥—ã –≤–æ –≤–Ω–µ—à–Ω–∏–π —Ç–∏–ø.

```go
type Logger struct{}
func (l Logger) Log(msg string) { fmt.Println(msg) }

type Server struct {
    Logger // embedding ‚Äî –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å s.Log() –Ω–∞–ø—Ä—è–º—É—é
}
```

**–û—Ç–ª–∏—á–∏–µ –æ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:**

- –ù–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Ç–∏–ø–æ–≤ ‚Äî `Server` –ù–ï —è–≤–ª—è–µ—Ç—Å—è `Logger`
- –ü—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞ receiver –æ—Å—Ç–∞—ë—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ç–∏–ø, –Ω–µ –≤–Ω–µ—à–Ω–∏–π
- –í–Ω–µ—à–Ω–∏–π —Ç–∏–ø –º–æ–∂–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Ç–æ–¥ ‚Äî —Ç–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –µ–≥–æ –≤–µ—Ä—Å–∏—è

**–í–∏–¥—ã embedding:**

- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É ‚Äî –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –ø–æ–ª–µ–π –∏ –º–µ—Ç–æ–¥–æ–≤
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ (`io.ReadWriter` = `Reader` + `Writer`)
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—á–∞—Å—Ç–∏—á–Ω–æ, –æ–ø–∞—Å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω)

---

### 18. –ß—Ç–æ —Ç–∞–∫–æ–µ deadlock –∏ –∫–∞–∫ –æ–Ω –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≤ Go?

Deadlock (–≤–∑–∞–∏–º–æ–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞) ‚Äî —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ –≥–æ—Ä—É—Ç–∏–Ω—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞–≤—Å–µ–≥–¥–∞, –æ–∂–∏–¥–∞—è –¥—Ä—É–≥ –¥—Ä—É–≥–∞.

**–ß–µ—Ç—ã—Ä–µ —É—Å–ª–æ–≤–∏—è –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è:**

1. –í–∑–∞–∏–º–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ ‚Äî —Ä–µ—Å—É—Ä—Å –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
2. –£–¥–µ—Ä–∂–∞–Ω–∏–µ –∏ –æ–∂–∏–¥–∞–Ω–∏–µ ‚Äî –≥–æ—Ä—É—Ç–∏–Ω–∞ –¥–µ—Ä–∂–∏—Ç —Ä–µ—Å—É—Ä—Å –∏ –∂–¥—ë—Ç –¥—Ä—É–≥–æ–π
3. –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–æ–±—Ä–∞—Ç—å ‚Äî —Ä–µ—Å—É—Ä—Å –Ω–µ–ª—å–∑—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å
4. –¶–∏–∫–ª–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ ‚Äî –∑–∞–º–∫–Ω—É—Ç–∞—è —Ü–µ–ø–æ—á–∫–∞ –æ–∂–∏–¥–∞–Ω–∏–π

**–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –≤ Go:**

- –ó–∞–ø–∏—Å—å –≤ –Ω–µ–±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª –±–µ–∑ —á–∏—Ç–∞—Ç–µ–ª—è
- –ß—Ç–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞, –≤ –∫–æ—Ç–æ—Ä—ã–π –Ω–∏–∫—Ç–æ –Ω–µ –ø–∏—à–µ—Ç
- –í–∑–∞–∏–º–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –º—å—é—Ç–µ–∫—Å–æ–≤ (A –∂–¥—ë—Ç B, B –∂–¥—ë—Ç A)
- –ó–∞–±—ã—Ç—ã–π `close(ch)` –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `range`

```go
ch := make(chan int)
ch <- 1 // deadlock: –Ω–µ–∫–æ–º—É —á–∏—Ç–∞—Ç—å
```

**–û—Ç–ª–∏—á–∏–µ –æ—Ç data race:** deadlock ‚Äî –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–∏—Å–∞–µ—Ç, data race ‚Äî –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ.

---

### 19. –ß—Ç–æ —Ç–∞–∫–æ–µ –ø—É—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `struct{}` –∏ –∫–æ–≥–¥–∞ –µ—ë –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

–ü—É—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `struct{}` ‚Äî —ç—Ç–æ —Ç–∏–ø –±–µ–∑ –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–Ω–∏–º–∞–µ—Ç 0 –±–∞–π—Ç –ø–∞–º—è—Ç–∏. Go –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ `unsafe.Sizeof(struct{}{}) == 0`.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:**

- **–ú–Ω–æ–∂–µ—Å—Ç–≤–æ (Set):** `map[string]struct{}` –≤–º–µ—Å—Ç–æ `map[string]bool` —ç–∫–æ–Ω–æ–º–∏—Ç –ø–∞–º—è—Ç—å ‚Äî –Ω–µ –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –±—É–ª–µ–≤—ã –∑–Ω–∞—á–µ–Ω–∏—è
- **–°–∏–≥–Ω–∞–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã:** `chan struct{}` –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –±–µ–∑ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö (done-–∫–∞–Ω–∞–ª—ã, —Å—Ç–æ–ø-—Å–∏–≥–Ω–∞–ª—ã)
- **–°–µ–º–∞—Ñ–æ—Ä—ã:** –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª `chan struct{}` –∫–∞–∫ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏

```go
// –ú–Ω–æ–∂–µ—Å—Ç–≤–æ
set := make(map[string]struct{})
set["key"] = struct{}{}
_, exists := set["key"]

// –°–∏–≥–Ω–∞–ª—å–Ω—ã–π –∫–∞–Ω–∞–ª
done := make(chan struct{})
close(done) // —Å–∏–≥–Ω–∞–ª –≤—Å–µ–º —Å–ª—É—à–∞—Ç–µ–ª—è–º
```

**–ü–æ—á–µ–º—É –Ω–µ `chan bool`:** –¥–ª—è —Å–∏–≥–Ω–∞–ª–∞ –≤–∞–∂–µ–Ω —Å–∞–º —Ñ–∞–∫—Ç —Å–æ–±—ã—Ç–∏—è, –∞ –Ω–µ –∑–Ω–∞—á–µ–Ω–∏–µ. `struct{}` —è–≤–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ä–µ—à–∞—Ç—å, —á—Ç–æ –ø–µ—Ä–µ–¥–∞—Ç—å ‚Äî `true` –∏–ª–∏ `false`.

---

### 20. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É pointer receiver –∏ value receiver?

**Value receiver** (`func (t T) Method()`) ‚Äî –º–µ—Ç–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–æ–ø–∏–µ–π –∑–Ω–∞—á–µ–Ω–∏—è. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª.

**Pointer receiver** (`func (t *T) Method()`) ‚Äî –º–µ—Ç–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å. –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å pointer receiver:**

- –ú–µ—Ç–æ–¥ –∏–∑–º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–æ–ª—å—à–∞—è ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Ä–æ–≥–æ
- –ù—É–∂–Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å (–µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –º–µ—Ç–æ–¥ —Å pointer receiver, –¥–µ–ª–∞–π –≤—Å–µ —Å pointer receiver)

**–í–∞–∂–Ω—ã–π –Ω—é–∞–Ω—Å:** —Ç–∏–ø —Å pointer receiver –Ω–µ–ª—å–∑—è –ø—Ä–∏—Å–≤–æ–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É —á–µ—Ä–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–µ:

```go
type Stringer interface { String() string }
type MyType struct{}
func (m *MyType) String() string { return "hello" }

var s Stringer = MyType{}  // –æ—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
var s Stringer = &MyType{} // –æ–∫
```

---

### 21. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É make –∏ new?

`new(T)` ‚Äî –≤—ã–¥–µ–ª—è–µ—Ç –ø–∞–º—è—Ç—å –ø–æ–¥ zero value —Ç–∏–ø–∞ T –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å `*T`. –ü–∞–º—è—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –Ω—É–ª—è–º–∏.

`make(T, args)` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç slice, map –∏–ª–∏ channel. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–∞–º —Ç–∏–ø T (–Ω–µ —É–∫–∞–∑–∞—Ç–µ–ª—å).

```go
p := new(int)         // *int, —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ 0
s := make([]int, 5)   // []int —Å len=5, cap=5
m := make(map[string]int) // –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è map
ch := make(chan int)  // –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª
```

**–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ:** `new` —Ç–æ–ª—å–∫–æ –≤—ã–¥–µ–ª—è–µ—Ç –ø–∞–º—è—Ç—å, `make` —Å–æ–∑–¥–∞—ë—Ç –≥–æ—Ç–æ–≤—É—é –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö. –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `new(map[string]int)` –≤–µ—Ä–Ω—ë—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ nil-map, –≤ –∫–æ—Ç–æ—Ä—É—é –Ω–µ–ª—å–∑—è –ø–∏—Å–∞—Ç—å.

---

### 22. –ú–æ–∂–Ω–æ –ª–∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ Go –∏ —á—Ç–æ —Ç–∞–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ comparable?

–°—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ Go –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —á–µ—Ä–µ–∑ `==` –∏ `!=`, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—Å–µ –∏—Ö –ø–æ–ª—è —Å—Ä–∞–≤–Ω–∏–º—ã. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–ª–µ –∑–∞ –ø–æ–ª–µ–º.

**–°—Ä–∞–≤–Ω–∏–º—ã–µ —Ç–∏–ø—ã:**

- –ß–∏—Å–ª–∞, —Å—Ç—Ä–æ–∫–∏, –±—É–ª–µ–≤—ã –∑–Ω–∞—á–µ–Ω–∏—è
- –£–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ –∫–∞–Ω–∞–ª—ã
- –ú–∞—Å—Å–∏–≤—ã —Å–æ —Å—Ä–∞–≤–Ω–∏–º—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–æ —Å—Ä–∞–≤–Ω–∏–º—ã–º–∏ –ø–æ–ª—è–º–∏

**–ù–µ—Å—Ä–∞–≤–Ω–∏–º—ã–µ —Ç–∏–ø—ã:**

- –°–ª–∞–π—Å—ã, –º–∞–ø—ã, —Ñ—É–Ω–∫—Ü–∏–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –Ω–µ—Å—Ä–∞–≤–Ω–∏–º—ã–µ –ø–æ–ª—è

```go
type Point struct { X, Y int }
p1, p2 := Point{1, 2}, Point{1, 2}
fmt.Println(p1 == p2) // true

type Data struct { Values []int }
// d1 == d2 ‚Äî –æ—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: —Å–ª–∞–π—Å –Ω–µ—Å—Ä–∞–≤–Ω–∏–º
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ comparable** ‚Äî –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π constraint –¥–ª—è –¥–∂–µ–Ω–µ—Ä–∏–∫–æ–≤, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π, —á—Ç–æ —Ç–∏–ø –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å `==` –∏ `!=`. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–ª—é—á–µ–π map –∏ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö –ø–æ–∏—Å–∫–∞:

```go
func Contains[T comparable](slice []T, item T) bool {
    for _, v := range slice {
        if v == item {
            return true
        }
    }
    return false
}
```

**–í–∞–∂–Ω—ã–π –Ω—é–∞–Ω—Å (Go 1.20+):** –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ñ–æ—Ä–º–∞–ª—å–Ω–æ —Å—Ä–∞–≤–Ω–∏–º—ã, –Ω–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ —Å –Ω–µ—Å—Ä–∞–≤–Ω–∏–º—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –≤–Ω—É—Ç—Ä–∏ –≤—ã–∑–æ–≤–µ—Ç panic –≤ —Ä–∞–Ω—Ç–∞–π–º–µ.

---

### 23. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç wrapping –æ—à–∏–±–æ–∫ –∏ –∑–∞—á–µ–º –Ω—É–∂–Ω—ã errors.Is –∏ errors.As?

Wrapping (Go 1.13+) ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∫ [–æ—à–∏–±–∫–µ][errors] —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª–∞. –ò—Å–ø–æ–ª—å–∑—É–π `%w` –≤ `fmt.Errorf`:

```go
if err != nil {
    return fmt.Errorf("failed to connect: %w", err)
}
```

**errors.Is** ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ –≤ —Ü–µ–ø–æ—á–∫–µ –æ—à–∏–±–æ–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ (sentinel):

```go
if errors.Is(err, sql.ErrNoRows) {
    // –æ–±—Ä–∞–±–æ—Ç–∫–∞ "–Ω–µ –Ω–∞–π–¥–µ–Ω–æ"
}
```

**errors.As** ‚Äî –∏–∑–≤–ª–µ–∫–∞–µ—Ç –æ—à–∏–±–∫—É –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –∏–∑ —Ü–µ–ø–æ—á–∫–∏:

```go
var pathErr *os.PathError
if errors.As(err, &pathErr) {
    fmt.Println(pathErr.Path)
}
```

**–ó–∞—á–µ–º wrapping:** –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç ("—á—Ç–æ –¥–µ–ª–∞–ª–∏"), —Å–æ—Ö—Ä–∞–Ω—è—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏—á–∏–Ω—É ("—á—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫").

---

### 24. –ß—Ç–æ —Ç–∞–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ (closure) –∏ –∫–∞–∫–∞—è —Ç–∏–ø–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞ —Å–≤—è–∑–∞–Ω–∞ —Å —Ü–∏–∫–ª–∞–º–∏?

[–ó–∞–º—ã–∫–∞–Ω–∏–µ][closures] ‚Äî —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏. –í Go –∞–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —è–≤–ª—è—é—Ç—Å—è –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏.

**–¢–∏–ø–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞ ‚Äî –∑–∞—Ö–≤–∞—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ü–∏–∫–ª–∞:**

```go
for i := 0; i < 3; i++ {
    go func() {
        fmt.Println(i) // –≤—Å–µ –≥–æ—Ä—É—Ç–∏–Ω—ã –≤—ã–≤–µ–¥—É—Ç 3
    }()
}
```

–í—Å–µ –≥–æ—Ä—É—Ç–∏–Ω—ã –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –æ–¥–Ω—É –∏ —Ç—É –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `i`, –∫–æ—Ç–æ—Ä–∞—è –∫ –º–æ–º–µ–Ω—Ç—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É–∂–µ —Ä–∞–≤–Ω–∞ 3.

**–†–µ—à–µ–Ω–∏—è:**

- –ü–µ—Ä–µ–¥–∞—Ç—å –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç: `go func(i int) { ... }(i)`
- –°–æ–∑–¥–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é: `i := i` –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–∞
- –í Go 1.22+ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ü–∏–∫–ª–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–Ω–æ–≤–æ –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ (–ø—Ä–æ–±–ª–µ–º–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞)

---

### 25. –ß—Ç–æ —Ç–∞–∫–æ–µ pprof –∏ –∫–∞–∫ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è Go-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è?

`pprof` ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è CPU, –ø–∞–º—è—Ç–∏ –∏ –≥–æ—Ä—É—Ç–∏–Ω –≤ Go.

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ HTTP-—Å–µ—Ä–≤–µ—Ä–µ:**

```go
import _ "net/http/pprof"
// –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç /debug/pprof/*
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏:**

- `cpu` ‚Äî –≥–¥–µ —Ç—Ä–∞—Ç–∏—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–µ –≤—Ä–µ–º—è
- `heap` ‚Äî —Ç–µ–∫—É—â–∏–µ –∞–ª–ª–æ–∫–∞—Ü–∏–∏ –≤ –∫—É—á–µ
- `goroutine` ‚Äî —Å—Ç–µ–∫—Ç—Ä–µ–π—Å—ã –≤—Å–µ—Ö –≥–æ—Ä—É—Ç–∏–Ω (–¥–ª—è –ø–æ–∏—Å–∫–∞ —É—Ç–µ—á–µ–∫)
- `block` ‚Äî –≥–¥–µ –≥–æ—Ä—É—Ç–∏–Ω—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- `mutex` ‚Äî –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è –∑–∞ –º—å—é—Ç–µ–∫—Å—ã

**–ê–Ω–∞–ª–∏–∑:**

```bash
go tool pprof http://localhost:6060/debug/pprof/heap
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

- –í—ã—Å–æ–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ CPU ‚Äî –ø—Ä–æ—Ñ–∏–ª—å `cpu`
- –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ ‚Äî –ø—Ä–æ—Ñ–∏–ª—å `heap` —Å –æ–ø—Ü–∏–µ–π `inuse_space`
- –£—Ç–µ—á–∫–∏ –≥–æ—Ä—É—Ç–∏–Ω ‚Äî –ø—Ä–æ—Ñ–∏–ª—å `goroutine`

---

### 26. –ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ—É–Ω–∫—Ü–∏—è init() –∏ –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –æ–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è?

`init()` ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞–∫–µ—Ç–∞, –¥–æ –≤—ã–∑–æ–≤–∞ `main()`.

**–ü–æ—Ä—è–¥–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:**

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ, –≤ –ø–æ—Ä—è–¥–∫–µ –∏–º–ø–æ—Ä—Ç–∞)
2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞
3. –í—ã–∑–æ–≤ –≤—Å–µ—Ö `init()` —Ñ—É–Ω–∫—Ü–∏–π –ø–∞–∫–µ—Ç–∞

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –í –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ `init()` ‚Äî –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- –í –æ–¥–Ω–æ–º –ø–∞–∫–µ—Ç–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ —Å `init()` ‚Äî –ø–æ—Ä—è–¥–æ–∫ —Ñ–∞–π–ª–æ–≤ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞)
- `init()` –Ω–µ–ª—å–∑—è –≤—ã–∑–≤–∞—Ç—å —è–≤–Ω–æ

```go
var x = compute() // 1. —Å–Ω–∞—á–∞–ª–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

func init() {
    // 2. –ø–æ—Ç–æ–º init()
}

func main() {
    // 3. –ø–æ—Ç–æ–º main()
}
```

---

### 27. –ü–æ—á–µ–º—É –ø–æ—Ä—è–¥–æ–∫ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ map –Ω–µ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω?

Go –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä—É–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ map. –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ, —á—Ç–æ–±—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–µ –ø–æ–ª–∞–≥–∞–ª–∏—Å—å –Ω–∞ —Å–ª—É—á–∞–π–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏ Go –∏–ª–∏ –∑–∞–ø—É—Å–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã.

```go
m := map[string]int{"a": 1, "b": 2, "c": 3}
for k, v := range m {
    fmt.Println(k, v) // –ø–æ—Ä—è–¥–æ–∫ —Ä–∞–∑–Ω—ã–π –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ
}
```

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏—á–∏–Ω—ã:**

- –ü—Ä–∏ rehashing (—É–≤–µ–ª–∏—á–µ–Ω–∏–∏ map) —ç–ª–µ–º–µ–Ω—Ç—ã –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –º–µ–∂–¥—É bucket'–∞–º–∏
- –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ
- –≠—Ç–æ –∑–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫ hash collision (DoS), —Ç–∞–∫ –∫–∞–∫ seed —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ª—É—á–∞–µ–Ω

**–ï—Å–ª–∏ –Ω—É–∂–µ–Ω —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫:** –æ—Ç—Å–æ—Ä—Ç–∏—Ä—É–π –∫–ª—é—á–∏ –æ—Ç–¥–µ–ª—å–Ω–æ –∏ –∏—Ç–µ—Ä–∏—Ä—É–π –ø–æ –Ω–∏–º.

---

### 28. –ß—Ç–æ —Ç–∞–∫–æ–µ type assertion –∏ type switch? –ö–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç panic?

**Type assertion** ‚Äî –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Ç–∏–ø—É. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.

```go
var i interface{} = "hello"
s := i.(string) // s == "hello"
```

**Panic –≤–æ–∑–Ω–∏–∫–∞–µ—Ç**, –µ—Å–ª–∏ —Ç–∏–ø –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç:

```go
var i interface{} = "hello"
n := i.(int) // panic: interface conversion: interface {} is string, not int
```

**–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ñ–æ—Ä–º–∞ (comma-ok idiom)** ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Ç–æ—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `ok`:

```go
s, ok := i.(string) // ok == true, s == "hello"
n, ok := i.(int)    // ok == false, n == 0 (zero value), –±–µ–∑ panic
```

**Type switch** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∏–ø–æ–≤ —Å—Ä–∞–∑—É:

```go
switch v := i.(type) {
case string:
    fmt.Println("—Å—Ç—Ä–æ–∫–∞:", v)
case int:
    fmt.Println("—á–∏—Å–ª–æ:", v)
default:
    fmt.Println("–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø")
}
```

---

### 29. –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–∞–∫–µ—Ç sync/atomic –∏ –∫–æ–≥–¥–∞ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–æ –º—å—é—Ç–µ–∫—Å–æ–≤?

–ü–∞–∫–µ—Ç [`sync/atomic`][atomic-counters] –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ (int32, int64, uint32, uint64, uintptr, unsafe.Pointer).

**–û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**

- `atomic.Load*` / `atomic.Store*` ‚Äî –∞—Ç–æ–º–∞—Ä–Ω–æ–µ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å
- `atomic.Add*` ‚Äî –∞—Ç–æ–º–∞—Ä–Ω–æ–µ —Å–ª–æ–∂–µ–Ω–∏–µ
- `atomic.Swap*` ‚Äî –∞—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–º–µ–Ω–∞ —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
- `atomic.CompareAndSwap*` (CAS) ‚Äî –∑–∞–º–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–≤–Ω–æ –æ–∂–∏–¥–∞–µ–º–æ–º—É

```go
var counter int64
atomic.AddInt64(&counter, 1) // –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–æ –º—å—é—Ç–µ–∫—Å–æ–≤:**

- –ü—Ä–æ—Å—Ç—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –æ–¥–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (—Å—á—ë—Ç—á–∏–∫–∏, —Ñ–ª–∞–≥–∏)
- –ù—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (atomic –±—ã—Å—Ç—Ä–µ–µ mutex)
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è lock-free –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤

**Go 1.19+:** –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã `atomic.Int64`, `atomic.Bool` –∏ –¥—Ä—É–≥–∏–µ —Å –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–º API.

---

### 30. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å—Ç–µ–∫–æ–º –∏ –∫—É—á–µ–π –≤ Go –∏ –ø–æ—á–µ–º—É –∞–ª–ª–æ–∫–∞—Ü–∏—è –≤ –∫—É—á–µ –¥–æ—Ä–æ–∂–µ?

**–°—Ç–µ–∫** ‚Äî –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –≥–æ—Ä—É—Ç–∏–Ω—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π. –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É LIFO: –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–∞–º—è—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–¥–≤–∏–≥–æ–º —É–∫–∞–∑–∞—Ç–µ–ª—è (–æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ).

**–ö—É—á–∞** ‚Äî –æ–±—â–∞—è –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –¥–ª—è –≤—Å–µ—Ö –≥–æ—Ä—É—Ç–∏–Ω. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ–ª–∂–Ω–∞ –ø–µ—Ä–µ–∂–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∏–ª–∏ –µ—ë —Ä–∞–∑–º–µ—Ä –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞.

**–ü–æ—á–µ–º—É –∫—É—á–∞ –¥–æ—Ä–æ–∂–µ:**

- –ù—É–∂–µ–Ω –ø–æ–∏—Å–∫ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –±–ª–æ–∫–∞ –Ω—É–∂–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
- –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–∫—É—á–∞ –æ–±—â–∞—è –¥–ª—è –≤—Å–µ—Ö –≥–æ—Ä—É—Ç–∏–Ω)
- –°–æ–∑–¥–∞—ë—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ GC ‚Äî —Å–±–æ—Ä—â–∏–∫ –¥–æ–ª–∂–µ–Ω –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã

**–û–±—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ:** "sharing down" (–ø–µ—Ä–µ–¥–∞—á–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—é) ‚Äî —Å—Ç–µ–∫, "sharing up" (–≤–æ–∑–≤—Ä–∞—Ç —É–∫–∞–∑–∞—Ç–µ–ª—è) ‚Äî –∫—É—á–∞.

---

### 31. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É sync.Mutex –∏ sync.RWMutex?

`sync.Mutex` ‚Äî —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞. –í –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –≥–æ—Ä—É—Ç–∏–Ω–∞ –º–æ–∂–µ—Ç –≤–ª–∞–¥–µ—Ç—å –º—å—é—Ç–µ–∫—Å–æ–º.

`sync.RWMutex` ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —á—Ç–µ–Ω–∏—è-–∑–∞–ø–∏—Å–∏. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ª–∏–±–æ –æ–¥–Ω–æ–º—É –ø–∏—Å–∞—Ç–µ–ª—é, –ª–∏–±–æ –º–Ω–æ–∂–µ—Å—Ç–≤—É —á–∏—Ç–∞—Ç–µ–ª–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

**–ú–µ—Ç–æ–¥—ã RWMutex:**

- `Lock()` / `Unlock()` ‚Äî —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏
- `RLock()` / `RUnlock()` ‚Äî —Ä–∞–∑–¥–µ–ª—è–µ–º–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å RWMutex:**

- –ß—Ç–µ–Ω–∏–π –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±–æ–ª—å—à–µ, —á–µ–º –∑–∞–ø–∏—Å–µ–π (–∫—ç—à–∏, –∫–æ–Ω—Ñ–∏–≥–∏)
- –û–ø–µ—Ä–∞—Ü–∏—è —á—Ç–µ–Ω–∏—è –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ

---

### 32. –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –û–û–ü –≤ Go?

–í Go –Ω–µ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ –û–û–ü ‚Äî –Ω–µ—Ç –∫–ª–∞—Å—Å–æ–≤, –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

- **[–°—Ç—Ä—É–∫—Ç—É—Ä—ã][structs] (struct)** ‚Äî –≤–º–µ—Å—Ç–æ –∫–ª–∞—Å—Å–æ–≤, –æ–±—ä–µ–¥–∏–Ω—è—é—Ç –¥–∞–Ω–Ω—ã–µ
- **[–ú–µ—Ç–æ–¥—ã][methods]** ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ —Å receiver'–æ–º, –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ —Ç–∏–ø—É
- **Embedding** ‚Äî –≤–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, –∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Ç–∏–ø–æ–≤
- **[–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã][interfaces]** ‚Äî –Ω–µ—è–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (duck typing), –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º

Go —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É "–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –≤–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è". –¢–∏–ø —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –µ—Å–ª–∏ –∏–º–µ–µ—Ç –≤—Å–µ –µ–≥–æ –º–µ—Ç–æ–¥—ã ‚Äî —è–≤–Ω–æ–µ `implements` –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

---

### 33. –ß—Ç–æ —Ç–∞–∫–æ–µ iota –∏ –∫–∞–∫ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç?

[`iota`][enums] ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª –≤ –±–ª–æ–∫–µ [–∫–æ–Ω—Å—Ç–∞–Ω—Ç][constants]. –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 0 –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 1 –¥–ª—è –∫–∞–∂–¥–æ–π —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã.

```go
const (
    Sunday = iota  // 0
    Monday         // 1
    Tuesday        // 2
)
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤ 0 –≤ –∫–∞–∂–¥–æ–º –Ω–æ–≤–æ–º –±–ª–æ–∫–µ `const`
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö: `1 << iota` –¥–ª—è —Å—Ç–µ–ø–µ–Ω–µ–π –¥–≤–æ–π–∫–∏
- –ü—Ä–æ–ø—É—Å–∫ –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ `_`: `_ = iota` –ø—Ä–æ–ø—É—Å—Ç–∏—Ç —á–∏—Å–ª–æ, –Ω–æ —Å—á—ë—Ç—á–∏–∫ —É–≤–µ–ª–∏—á–∏—Ç—Å—è

```go
const (
    _  = iota             // 0 (–ø—Ä–æ–ø—É—â–µ–Ω)
    KB = 1 << (10 * iota) // 1024
    MB                    // 1048576
)
```

---

### 34. –ß—Ç–æ —Ç–∞–∫–æ–µ —É—Ç–µ—á–∫–∞ –≥–æ—Ä—É—Ç–∏–Ω (goroutine leak) –∏ –∫–∞–∫ –µ—ë –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å?

–£—Ç–µ—á–∫–∞ –≥–æ—Ä—É—Ç–∏–Ω ‚Äî —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ –≥–æ—Ä—É—Ç–∏–Ω–∞ –∑–∞–ø—É—â–µ–Ω–∞, –Ω–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è: –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞–≤—Å–µ–≥–¥–∞ –∏–ª–∏ –∑–∞–±—ã—Ç–∞ –±–µ–∑ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏. –£—Ç–µ—á–∫–∏ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –∏ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –∏—Å—á–µ—Ä–ø–∞–Ω–∏—é –ø–∞–º—è—Ç–∏.

**–ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

- –ß—Ç–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞, –≤ –∫–æ—Ç–æ—Ä—ã–π –Ω–∏–∫—Ç–æ –Ω–µ –ø–∏—à–µ—Ç –∏ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç
- HTTP-–∫–ª–∏–µ–Ω—Ç –±–µ–∑ —Ç–∞–π–º–∞—É—Ç–∞ ‚Äî –≥–æ—Ä—É—Ç–∏–Ω–∞ –∂–¥—ë—Ç –æ—Ç–≤–µ—Ç–∞ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ `ctx.Done()` –≤ –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- –ó–∞–±—ã—Ç—ã–π `close(ch)` –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `range`

**–ö–∞–∫ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å:**

- `runtime.NumGoroutine()` ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≥–æ—Ä—É—Ç–∏–Ω
- `pprof` ‚Äî `go tool pprof http://localhost:6060/debug/pprof/goroutine` –ø–æ–∫–∞–∂–µ—Ç —Å—Ç–µ–∫—Ç—Ä–µ–π—Å—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≥–æ—Ä—É—Ç–∏–Ω

**–ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å:** –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–¥–∞–≤–∞–π `context.Context` –≤ –¥–æ–ª–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è–π `ctx.Done()` –≤ select.

---

### 35. –ß—Ç–æ —Ç–∞–∫–æ–µ —Ä–µ—Ñ–ª–µ–∫—Å–∏—è (reflection) –≤ Go –∏ –∫–æ–≥–¥–∞ –µ—ë –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

–†–µ—Ñ–ª–µ–∫—Å–∏—è ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∏–ø–∞–º–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã. –ü–∞–∫–µ—Ç `reflect` –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∑–Ω–∞—Ç—å —Ç–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –ø–æ–ª—É—á–∏—Ç—å –∏ –∏–∑–º–µ–Ω–∏—Ç—å –µ—ë –∑–Ω–∞—á–µ–Ω–∏–µ, –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –ø–æ –∏–º–µ–Ω–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã:**

- `reflect.Type` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∏–ø–∞ (–∏–º—è, —Ä–∞–∑–º–µ—Ä, –º–µ—Ç–æ–¥—ã, –ø–æ–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
- `reflect.Value` ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ, —Å –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏

```go
v := reflect.ValueOf(42)
fmt.Println(v.Kind())  // int
fmt.Println(v.Int())   // 42
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

- –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è (encoding/json, gorm)
- Dependency injection, ORM, –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä –ø–æ —Ç–µ–≥–∞–º
- –û–±–æ–±—â—ë–Ω–Ω—ã–π –∫–æ–¥ –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –¥–∂–µ–Ω–µ—Ä–∏–∫–æ–≤

**–ü–æ—á–µ–º—É –∏–∑–±–µ–≥–∞—Ç—å:**

- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –ø—Ä—è–º–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è (–≤ 10-100 —Ä–∞–∑)
- –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–µ –ø–æ–π–º–∞–µ—Ç ‚Äî –ø–∞–Ω–∏–∫–∞ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ
- –ö–æ–¥ —Å–ª–æ–∂–Ω–µ–µ —á–∏—Ç–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å

---

### 36. –ß—Ç–æ —Ç–∞–∫–æ–µ singleflight –∏ –∫–æ–≥–¥–∞ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

`singleflight` ‚Äî –ø–∞–∫–µ—Ç –∏–∑ `golang.org/x/sync/singleflight`, –∫–æ—Ç–æ—Ä—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–ª—é—á–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å. –û—Å—Ç–∞–ª—å–Ω—ã–µ –≥–æ—Ä—É—Ç–∏–Ω—ã –∂–¥—É—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–µ—Ä–≤–æ–≥–æ –≤—ã–∑–æ–≤–∞.

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

- Cache stampede ‚Äî –ø—Ä–∏ –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫—ç—à–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–¥—É—Ç –≤ –ë–î
- –î–æ—Ä–æ–≥–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–µ API —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- –ó–∞—â–∏—Ç–∞ backend'–∞ –æ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–í–∞–∂–Ω–æ:** singleflight –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –∫—ç—à ‚Äî –æ–Ω —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–∏–π –≤—ã–∑–æ–≤ —Å–Ω–æ–≤–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç —Ñ—É–Ω–∫—Ü–∏—é.

---

### 37. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –ø—Ä–∏ –∑–∞–ø–∏—Å–∏/—á—Ç–µ–Ω–∏–∏ –≤ nil-–∫–∞–Ω–∞–ª –∏ –≤ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª?

**nil-–∫–∞–Ω–∞–ª:**

- –ó–∞–ø–∏—Å—å ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞–≤—Å–µ–≥–¥–∞ (deadlock, –µ—Å–ª–∏ –Ω–µ—Ç –¥—Ä—É–≥–∏—Ö –≥–æ—Ä—É—Ç–∏–Ω)
- –ß—Ç–µ–Ω–∏–µ ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞–≤—Å–µ–≥–¥–∞
- –ó–∞–∫—Ä—ã—Ç–∏–µ ‚Äî panic

**–ó–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª:**

- –ó–∞–ø–∏—Å—å ‚Äî panic
- –ß—Ç–µ–Ω–∏–µ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –±—É—Ñ–µ—Ä–∞, –∑–∞—Ç–µ–º zero value —Å `ok = false`
- –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ ‚Äî panic

```go
v, ok := <-closedCh // ok == false, –µ—Å–ª–∏ –∫–∞–Ω–∞–ª –ø—É—Å—Ç –∏ –∑–∞–∫—Ä—ã—Ç
```

---

### 38. –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, —á—Ç–æ —Ç–∏–ø —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å?

–ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –∫ –ø—É—Å—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω–æ–≥–æ —Ç–∏–ø–∞ —Å –ø–æ–º–æ—â—å—é blank identifier:

```go
var _ io.Reader = (*MyType)(nil)
```

–ï—Å–ª–∏ `MyType` –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç `io.Reader`, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É. –≠—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞:

- –ù–µ —Å–æ–∑–¥–∞—ë—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `nil`)
- –ù–µ –∑–∞–Ω–∏–º–∞–µ—Ç –ø–∞–º—è—Ç—å –≤ —Ä–∞–Ω—Ç–∞–π–º–µ (blank identifier `_` –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è)
- –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

**–ó–∞—á–µ–º –Ω—É–∂–Ω–æ:**

- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤ Go —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è –Ω–µ—è–≤–Ω–æ ‚Äî –ª–µ–≥–∫–æ —Å–ª—É—á–∞–π–Ω–æ —Å–ª–æ–º–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –æ—à–∏–±–∫—É —Å—Ä–∞–∑—É, –∞ –Ω–µ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ –ø—Ä–∏ type assertion
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏–µ: "—ç—Ç–æ—Ç —Ç–∏–ø –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —ç—Ç–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å"

---

### 39. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Go –∏ —á—Ç–æ —Ç–∞–∫–æ–µ table-driven tests?

Go –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É [—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è][testing-and-benchmarking] —á–µ—Ä–µ–∑ –ø–∞–∫–µ—Ç `testing`. –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –∏–º–µ–Ω—É—é—Ç—Å—è `*_test.go`, —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî `func TestXxx(t *testing.T)`.

**–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:**

- `go test` ‚Äî —Ç–µ–∫—É—â–∏–π –ø–∞–∫–µ—Ç
- `go test ./...` ‚Äî –≤—Å–µ –ø–∞–∫–µ—Ç—ã —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ
- `go test -v` ‚Äî verbose –≤—ã–≤–æ–¥
- `go test -run TestName` ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç

**Table-driven tests** ‚Äî –∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –≤ Go, –∫–æ–≥–¥–∞ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏ –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Å–ª–∞–π—Å–µ —Å—Ç—Ä—É–∫—Ç—É—Ä:

```go
func TestAdd(t *testing.T) {
    tests := []struct {
        a, b, want int
    }{
        {1, 2, 3},
        {0, 0, 0},
        {-1, 1, 0},
    }
    for _, tc := range tests {
        got := Add(tc.a, tc.b)
        if got != tc.want {
            t.Errorf("Add(%d, %d) = %d, want %d", tc.a, tc.b, got, tc.want)
        }
    }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–ª—É—á–∞–∏, —á–∏—Ç–∞–µ–º–æ—Å—Ç—å, –æ–¥–∏–Ω —Ü–∏–∫–ª –≤–º–µ—Å—Ç–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.

---

### 40. –ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–µ–≥–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä (struct tags) –∏ –∫–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç?

–¢–µ–≥–∏ [—Å—Ç—Ä—É–∫—Ç—É—Ä][structs] ‚Äî —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–µ –∫ –ø–æ–ª—è–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –ó–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∫–∞–≤—ã—á–∫–∞—Ö –ø–æ—Å–ª–µ —Ç–∏–ø–∞ –ø–æ–ª—è.

```go
type User struct {
    ID   int    `json:"id" db:"user_id"`
    Name string `json:"name,omitempty"`
}
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç:**

- –¢–µ–≥–∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ Go –Ω–∞–ø—Ä—è–º—É—é ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∏
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ —á–∏—Ç–∞—é—Ç —Ç–µ–≥–∏ —á–µ—Ä–µ–∑ —Ä–µ—Ñ–ª–µ–∫—Å–∏—é (`reflect.StructField.Tag`)
- –§–æ—Ä–º–∞—Ç: `–∫–ª—é—á:"–∑–Ω–∞—á–µ–Ω–∏–µ"`, –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ–≥–æ–≤ —Ä–∞–∑–¥–µ–ª—è—é—Ç—Å—è –ø—Ä–æ–±–µ–ª–æ–º

**–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ç–µ–≥–∏:**

- `json` ‚Äî —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ [JSON][json]
- `xml` ‚Äî —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ XML
- `db` / `gorm` ‚Äî –º–∞–ø–ø–∏–Ω–≥ –Ω–∞ –∫–æ–ª–æ–Ω–∫–∏ –ë–î
- `validate` ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- `yaml` ‚Äî —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ YAML

---

### 41. –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å graceful shutdown HTTP-—Å–µ—Ä–≤–µ—Ä–∞ –≤ Go?

Graceful shutdown ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞: –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–æ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –¥–æ–∂–¥–∞—Ç—å—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã.

```go
srv := &http.Server{Addr: ":8080", Handler: handler}  // —Å–º. [HTTP-—Å–µ—Ä–≤–µ—Ä][http-server]

go func() {
    if err := srv.ListenAndServe(); err != http.ErrServerClosed {
        log.Fatal(err)
    }
}()

// –û–∂–∏–¥–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (—Å–º. [–°–∏–≥–Ω–∞–ª—ã][signals])
quit := make(chan os.Signal, 1)
signal.Notify(quit, syscall.SIGINT, syscall.SIGTERM)
<-quit

// Graceful shutdown —Å —Ç–∞–π–º–∞—É—Ç–æ–º
ctx, cancel := context.WithTimeout(context.Background(), 30*time.Second)
defer cancel()
if err := srv.Shutdown(ctx); err != nil {
    log.Fatal(err)
}
```

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**

- `Shutdown` –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è ‚Äî –∂–¥—ë—Ç –∏—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- –¢–∞–π–º–∞—É—Ç –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã –Ω–µ –∂–¥–∞—Ç—å –≤–µ—á–Ω–æ –∑–∞–≤–∏—Å—à–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –ü–æ—Å–ª–µ `Shutdown` —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `http.ErrServerClosed` –∏–∑ `ListenAndServe`
- –î–ª—è WebSocket –∏ long-polling –Ω—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ—Ç–º–µ–Ω—ã —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞

---

### 42. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å—é –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–æ–º?

**–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å (concurrency)** ‚Äî —ç—Ç–æ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –≤—ã–ø–æ–ª–Ω—è—é—â–∏—Ö—Å—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤. –≠—Ç–æ –ø—Ä–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–≥—Ä–∞–º–º—ã: –∫–∞–∫ —Ä–∞–∑–±–∏—Ç—å –∑–∞–¥–∞—á—É –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —á–∞—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

**–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º (parallelism)** ‚Äî —ç—Ç–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π. –≠—Ç–æ –ø—Ä–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ: –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π –±—É–∫–≤–∞–ª—å–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –≤ –æ–¥–∏–Ω –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–¥—Ä–∞—Ö CPU.

**–ö–ª—é—á–µ–≤–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ:**

- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å ‚Äî –ø—Ä–æ –¥–∏–∑–∞–π–Ω –ø—Ä–æ–≥—Ä–∞–º–º—ã (dealing with lots of things at once)
- –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º ‚Äî –ø—Ä–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ (doing lots of things at once)

–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞ –æ–¥–Ω–æ–º —è–¥—Ä–µ, –ø–µ—Ä–µ–∫–ª—é—á–∞—è—Å—å –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —è–¥–µ—Ä.

**Go –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å:** Go —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (–≥–æ—Ä—É—Ç–∏–Ω—ã, –∫–∞–Ω–∞–ª—ã, select). –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º ‚Äî —ç—Ç–æ –±–æ–Ω—É—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –Ω–∞ –º–Ω–æ–≥–æ—è–¥–µ—Ä–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ —Å `GOMAXPROCS > 1`.

---

### 43. –ß—Ç–æ —Ç–∞–∫–æ–µ variadic functions –∏ –∫–∞–∫ –ø–µ—Ä–µ–¥–∞—Ç—å —Å–ª–∞–π—Å –≤ —Ç–∞–∫—É—é —Ñ—É–Ω–∫—Ü–∏—é?

[Variadic function][functions] ‚Äî —Ñ—É–Ω–∫—Ü–∏—è, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞. –û–±—ä—è–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `...` –ø–µ—Ä–µ–¥ —Ç–∏–ø–æ–º –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.

```go
func sum(nums ...int) int {
    total := 0
    for _, n := range nums {
        total += n
    }
    return total
}

sum(1, 2, 3)       // –≤—ã–∑–æ–≤ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
sum([]int{1,2,3}...) // –ø–µ—Ä–µ–¥–∞—á–∞ —Å–ª–∞–π—Å–∞ —á–µ—Ä–µ–∑ spread –æ–ø–µ—Ä–∞—Ç–æ—Ä
```

**–í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –í–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ variadic –ø–∞—Ä–∞–º–µ—Ç—Ä ‚Äî —ç—Ç–æ —Å–ª–∞–π—Å (`nums` –∏–º–µ–µ—Ç —Ç–∏–ø `[]int`)
- –î–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Å–ª–∞–π—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `...` –ø–æ—Å–ª–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (spread –æ–ø–µ—Ä–∞—Ç–æ—Ä)
- Variadic –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–º –≤ —Å–ø–∏—Å–∫–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–ß–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞:** –ø–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–¥–∞—Ç—å —Å–ª–∞–π—Å –Ω–∞–ø—Ä—è–º—É—é –±–µ–∑ `...`:

```go
s := []int{1, 2, 3}
sum(s)    // –æ—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
sum(s...) // –ø—Ä–∞–≤–∏–ª—å–Ω–æ
```

---

### 44. –ß—Ç–æ —Ç–∞–∫–æ–µ build tags (build constraints) –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è?

Build tags (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏) ‚Äî –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –¥–æ–ª–∂–µ–Ω –ª–∏ —Ñ–∞–π–ª –≤–∫–ª—é—á–∞—Ç—å—Å—è –≤ —Å–±–æ—Ä–∫—É.

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å (Go 1.17+):**

```go
//go:build linux && amd64
```

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏—è:**

- –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∫–æ–¥ (`//go:build windows` –∏–ª–∏ `//go:build darwin`)
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤: `//go:build integration`, –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `go test -tags=integration`
- Feature flags: —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–∞ (free/pro)

**–í–∞–∂–Ω–æ:** build tag –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞, –ø–µ—Ä–µ–¥ `package`. –ò–º—è —Ñ–∞–π–ª–∞ —Ç–æ–∂–µ –º–æ–∂–µ—Ç —Å–ª—É–∂–∏—Ç—å —Ç–µ–≥–æ–º: `file_linux.go` –≤–∫–ª—é—á–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –ø–æ–¥ Linux.

---

### 45. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç range –∏ –∫–∞–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–Ω—ã–º —Ç–∏–ø–∞–º?

[`range`][range-over-built-in-types] ‚Äî –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ –º–∞—Å—Å–∏–≤–∞–º, —Å–ª–∞–π—Å–∞–º, map, —Å—Ç—Ä–æ–∫–∞–º –∏ –∫–∞–Ω–∞–ª–∞–º. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω–¥–µ–∫—Å –∏ –∫–æ–ø–∏—é —ç–ª–µ–º–µ–Ω—Ç–∞.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ —Ç–∏–ø–∞–º:**

- **slice/array:** `for i, v := range s` ‚Äî `v` —ç—Ç–æ –∫–æ–ø–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞, –∏–∑–º–µ–Ω–µ–Ω–∏–µ `v` –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª
- **map:** –ø–æ—Ä—è–¥–æ–∫ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –Ω–µ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω; –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª—è—Ç—å —Ç–µ–∫—É—â–∏–π –∫–ª—é—á –≤–æ –≤—Ä–µ–º—è –∏—Ç–µ—Ä–∞—Ü–∏–∏
- **string:** –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ [—Ä—É–Ω–∞–º][strings-and-runes] (–Ω–µ –±–∞–π—Ç–∞–º); –∏–Ω–¥–µ–∫—Å ‚Äî –ø–æ–∑–∏—Ü–∏—è –±–∞–π—Ç–∞, –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî `rune`
- **channel:** `for v := range ch` ‚Äî —á–∏—Ç–∞–µ—Ç –¥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –∫–∞–Ω–∞–ª–∞

**–¢–∏–ø–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞ ‚Äî –≤–∑—è—Ç–∏–µ –∞–¥—Ä–µ—Å–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ü–∏–∫–ª–∞:**

```go
for _, v := range items {
    results = append(results, &v) // –≤—Å–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ –æ–¥–Ω—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é!
}
```

**–†–µ—à–µ–Ω–∏–µ:** —Å–æ–∑–¥–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é `v := v` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å `&items[i]`.

---

### 46. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è copy –¥–ª—è —Å–ª–∞–π—Å–æ–≤?

–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `copy(dst, src)` –∫–æ–ø–∏—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ `src` –≤ `dst` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ö–æ–ø–∏—Ä—É–µ—Ç—Å—è `min(len(dst), len(src))` —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Ä–∞—Å—à–∏—Ä—è–µ—Ç destination-—Å–ª–∞–π—Å.

```go
src := []int{1, 2, 3}
dst := make([]int, 2)
n := copy(dst, src) // n == 2, dst == [1, 2]
```

**–í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- `copy` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –¥–∞–∂–µ –µ—Å–ª–∏ —Å–ª–∞–π—Å—ã –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç—Å—è (–æ–±—â–∏–π underlying array)
- –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –Ω–µ –¥–ª–∏–Ω–∞ src
- –î–ª—è —Å—Ç—Ä–æ–∫: `copy([]byte, string)` ‚Äî –∫–æ–ø–∏—Ä—É–µ—Ç –±–∞–π—Ç—ã —Å—Ç—Ä–æ–∫–∏ –≤ —Å–ª–∞–π—Å

---

### 47. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥–æ—Ä—É—Ç–∏–Ω—É?

–ì–æ—Ä—É—Ç–∏–Ω—É –Ω–µ–ª—å–∑—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å –∏–∑–≤–Ω–µ ‚Äî –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ —Å–∞–º–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–∏–≥–Ω–∞–ª –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è. –û—Å–Ω–æ–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã:

**1. –ß–µ—Ä–µ–∑ –∫–∞–Ω–∞–ª:**

```go
stop := make(chan struct{})
go func() {
    for {
        select {
        case <-stop:
            return
        default:
            // —Ä–∞–±–æ—Ç–∞
        }
    }
}()
close(stop) // —Å–∏–≥–Ω–∞–ª –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
```

**2. –ß–µ—Ä–µ–∑ context.Context:**

```go
ctx, cancel := context.WithCancel(context.Background())
go func() {
    for {
        select {
        case <-ctx.Done():
            return
        default:
            // —Ä–∞–±–æ—Ç–∞
        }
    }
}()
cancel() // –æ—Ç–º–µ–Ω–∞
```

**–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±** ‚Äî `context.Context`, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–∞–π–º–∞—É—Ç—ã, –¥–µ–¥–ª–∞–π–Ω—ã –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø–æ —Ü–µ–ø–æ—á–∫–µ –≤—ã–∑–æ–≤–æ–≤.

**–ß–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞:** –∑–∞–ø—É—Å–∫ –≥–æ—Ä—É—Ç–∏–Ω—ã –±–µ–∑ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ ‚Äî –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —É—Ç–µ—á–∫–µ –≥–æ—Ä—É—Ç–∏–Ω.

---

### 48. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É nil-—Å–ª–∞–π—Å–æ–º –∏ –ø—É—Å—Ç—ã–º —Å–ª–∞–π—Å–æ–º?

**Nil-—Å–ª–∞–π—Å** ‚Äî —Å–ª–∞–π—Å, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—Å–µ —Ç—Ä–∏ –ø–æ–ª—è (—É–∫–∞–∑–∞—Ç–µ–ª—å, len, cap) —Ä–∞–≤–Ω—ã –Ω—É–ª—é/nil:

```go
var s []int // nil-—Å–ª–∞–π—Å: s == nil, len(s) == 0, cap(s) == 0
```

**–ü—É—Å—Ç–æ–π —Å–ª–∞–π—Å** ‚Äî —Å–ª–∞–π—Å —Å len=0, –Ω–æ —Å –Ω–µ–Ω—É–ª–µ–≤—ã–º —É–∫–∞–∑–∞—Ç–µ–ª–µ–º –Ω–∞ –º–∞—Å—Å–∏–≤:

```go
s := []int{}           // –ø—É—Å—Ç–æ–π —Å–ª–∞–π—Å: s != nil, len(s) == 0
s := make([]int, 0)    // —Ç–æ–∂–µ –ø—É—Å—Ç–æ–π —Å–ª–∞–π—Å
```

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–Ω–∏—Ü–∞:**

- `append` —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –¥–ª—è –æ–±–æ–∏—Ö
- –ü—Ä–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ JSON: nil-—Å–ª–∞–π—Å ‚Üí `null`, –ø—É—Å—Ç–æ–π —Å–ª–∞–π—Å ‚Üí `[]`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `s == nil` ‚Äî true —Ç–æ–ª—å–∫–æ –¥–ª—è nil-—Å–ª–∞–π—Å–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –∏—Å–ø–æ–ª—å–∑—É–π `len(s) == 0` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—É—Å—Ç–æ—Ç—ã, –∞ –Ω–µ `s == nil`.

---

### 49. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç http.ListenAndServe –∏ ServeMux –≤–Ω—É—Ç—Ä–∏?

`http.ListenAndServe` –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º —Ü–∏–∫–ª–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é –≥–æ—Ä—É—Ç–∏–Ω—É.

`ServeMux` ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä (–º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä), –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –≤ `map[string]muxEntry`. –ü—Ä–∏ –≤—Ö–æ–¥—è—â–µ–º –∑–∞–ø—Ä–æ—Å–µ –∏—â–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –∏ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π `Handler.ServeHTTP`.

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**

- `DefaultServeMux` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–π `ServeMux`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ –≤ `ListenAndServe` –ø–µ—Ä–µ–¥–∞—Ç—å `nil` –≤–º–µ—Å—Ç–æ handler
- `HandlerFunc` ‚Äî –∞–¥–∞–ø—Ç–µ—Ä, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ `http.Handler`
- –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≥–æ—Ä—É—Ç–∏–Ω–µ ‚Äî –ø—Ä–∏ 10000 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –±—É–¥–µ—Ç 10000 –≥–æ—Ä—É—Ç–∏–Ω

```go
// HandlerFunc ‚Äî —ç—Ç–æ —Ç–∏–ø —Å –º–µ—Ç–æ–¥–æ–º ServeHTTP
type HandlerFunc func(ResponseWriter, *Request)
func (f HandlerFunc) ServeHTTP(w ResponseWriter, r *Request) {
    f(w, r)
}
```

---

### 50. –ú–æ–∂–Ω–æ –ª–∏ –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ –Ω–∞ nil-—É–∫–∞–∑–∞—Ç–µ–ª–µ –∏ –∫–æ–≥–¥–∞ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

–î–∞, –≤ Go –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ –Ω–∞ `nil`-—É–∫–∞–∑–∞—Ç–µ–ª–µ, –µ—Å–ª–∏ –º–µ—Ç–æ–¥ —è–≤–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª—É—á–∞–π `nil`. –≠—Ç–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç panic, –ø–æ–∫–∞ –º–µ—Ç–æ–¥ –Ω–µ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ø–æ–ª—è–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

```go
type Node struct {
    Value int
    Next  *Node
}

func (n *Node) IsNil() bool {
    return n == nil // —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
}

func (n *Node) GetValue() int {
    return n.Value // panic, –µ—Å–ª–∏ n == nil
}
```

**–ö–æ–≥–¥–∞ —ç—Ç–æ –ø–æ–ª–µ–∑–Ω–æ:**

- –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–¥–µ—Ä–µ–≤—å—è, —Å–ø–∏—Å–∫–∏): `n.Size()` –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å 0 –¥–ª—è nil-—É–∑–ª–∞
- Graceful degradation: –º–µ—Ç–æ–¥ —Å–∞–º —Ä–µ—à–∞–µ—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å —Å nil

**–ü–æ—á–µ–º—É —Ä–∞–±–æ—Ç–∞–µ—Ç:** –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞ receiver –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–∞–∫ –æ–±—ã—á–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî nil —ç—Ç–æ –≤–∞–ª–∏–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —É–∫–∞–∑–∞—Ç–µ–ª—è.

---

### 51. –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å time.After –≤ —Ü–∏–∫–ª–µ select –∏ –∫–∞–∫ —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —É—Ç–µ—á–∫–µ –ø–∞–º—è—Ç–∏?

`time.After(d)` –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –∫–∞–Ω–∞–ª –∏ –≥–æ—Ä—É—Ç–∏–Ω—É —Ç–∞–π–º–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –∂–∏–≤—É—Ç –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏. –í —Ü–∏–∫–ª–µ —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—é —Ç–∞–π–º–µ—Ä–æ–≤.

```go
// –£—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏ ‚Äî –∫–∞–∂–¥—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π —Ç–∞–π–º–µ—Ä
for {
    select {
    case msg := <-ch:
        process(msg)
    case <-time.After(time.Second): // —É—Ç–µ—á–∫–∞!
        log.Println("timeout")
    }
}
```

**–†–µ—à–µ–Ω–∏–µ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [`time.NewTimer`][timers] —Å —è–≤–Ω—ã–º —Å–±—Ä–æ—Å–æ–º:**

```go
timer := time.NewTimer(time.Second)
defer timer.Stop()

for {
    select {
    case msg := <-ch:
        if !timer.Stop() {
            <-timer.C
        }
        timer.Reset(time.Second)
        process(msg)
    case <-timer.C:
        timer.Reset(time.Second)
        log.Println("timeout")
    }
}
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ ‚Äî [`time.NewTicker`][tickers]** –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π.

---

### 52. –ß—Ç–æ —Ç–∞–∫–æ–µ sync.Pool –∏ –∫–æ–≥–¥–∞ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

`sync.Pool` ‚Äî —ç—Ç–æ –∫—ç—à –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–∂–¥—É –∞–ª–ª–æ–∫–∞—Ü–∏—è–º–∏. –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–Ω–∏–∑–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ GC –ø—Ä–∏ —á–∞—Å—Ç–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏ –∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

```go
var bufPool = sync.Pool{
    New: func() any {
        return new(bytes.Buffer)
    },
}

func process() {
    buf := bufPool.Get().(*bytes.Buffer)
    buf.Reset()
    defer bufPool.Put(buf)
    // –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ buf
}
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

- –ß–∞—Å—Ç—ã–µ –∞–ª–ª–æ–∫–∞—Ü–∏–∏ –∫–æ—Ä–æ—Ç–∫–æ–∂–∏–≤—É—â–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (–±—É—Ñ–µ—Ä—ã, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
- –í—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≥–æ—Ä—É—Ç–∏–Ω
- –°–Ω–∏–∂–µ–Ω–∏–µ –¥–∞–≤–ª–µ–Ω–∏—è –Ω–∞ GC (–º–µ–Ω—å—à–µ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è —Å–±–æ—Ä–∫–∏)

**–í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –û–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω—ã –∏–∑ –ø—É–ª–∞ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç (–º–µ–∂–¥—É —Ü–∏–∫–ª–∞–º–∏ GC) ‚Äî –Ω–µ–ª—å–∑—è –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ –∏—Ö —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å
- –ü–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º –æ–±—ä–µ–∫—Ç–∞ –≤ –ø—É–ª –Ω—É–∂–Ω–æ –æ—á–∏—â–∞—Ç—å –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (`Reset()`)
- –ü—É–ª –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ ‚Äî —ç—Ç–æ –∫—ç—à, –∞ –Ω–µ connection pool

---

### 53. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä (struct alignment) –∏ –∫–∞–∫ –æ–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–∑–º–µ—Ä?

–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ (alignment) ‚Äî —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞, —á—Ç–æ–±—ã –¥–∞–Ω–Ω—ã–µ —Ä–∞—Å–ø–æ–ª–∞–≥–∞–ª–∏—Å—å –≤ –ø–∞–º—è—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å–∞–º, –∫—Ä–∞—Ç–Ω—ã–º –∏—Ö —Ä–∞–∑–º–µ—Ä—É. –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç padding (–ø—É—Å—Ç—ã–µ –±–∞–π—Ç—ã) –º–µ–∂–¥—É –ø–æ–ª—è–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

```go
type Bad struct {
    a bool   // 1 –±–∞–π—Ç + 7 padding
    b int64  // 8 –±–∞–π—Ç
    c bool   // 1 –±–∞–π—Ç + 7 padding
}
// unsafe.Sizeof(Bad{}) == 24

type Good struct {
    b int64  // 8 –±–∞–π—Ç
    a bool   // 1 –±–∞–π—Ç
    c bool   // 1 –±–∞–π—Ç + 6 padding
}
// unsafe.Sizeof(Good{}) == 16
```

**–ü—Ä–∞–≤–∏–ª–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:** —Ä–∞—Å–ø–æ–ª–∞–≥–∞–π –ø–æ–ª—è –æ—Ç –±–æ–ª—å—à–µ–≥–æ –∫ –º–µ–Ω—å—à–µ–º—É ‚Äî —Ç–∞–∫ padding –º–∏–Ω–∏–º–∞–ª–µ–Ω.

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**

- `unsafe.Sizeof(s)` ‚Äî —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ –±–∞–π—Ç–∞—Ö
- `unsafe.Alignof(s)` ‚Äî —Ç—Ä–µ–±—É–µ–º–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ
- `unsafe.Offsetof(s.field)` ‚Äî —Å–º–µ—â–µ–Ω–∏–µ –ø–æ–ª—è –æ—Ç –Ω–∞—á–∞–ª–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**–ö–æ–≥–¥–∞ –≤–∞–∂–Ω–æ:** –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏ (–∫—ç—à–∏, –º–∞—Å—Å–∏–≤—ã —Å—Ç—Ä—É–∫—Ç—É—Ä). –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –ø–æ–ª–µ–π –º–æ–∂–µ—Ç —É–¥–≤–æ–∏—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏.

---

### 54. –ö–∞–∫ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –≥–æ—Ä—É—Ç–∏–Ω?

–ò—Å–ø–æ–ª—å–∑—É–π –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª –∫–∞–∫ —Å–µ–º–∞—Ñ–æ—Ä: —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ = –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≥–æ—Ä—É—Ç–∏–Ω.

```go
sem := make(chan struct{}, 10) // –º–∞–∫—Å–∏–º—É–º 10 –≥–æ—Ä—É—Ç–∏–Ω

for _, url := range urls {
    sem <- struct{}{} // –∑–∞–Ω—è—Ç—å —Å–ª–æ—Ç (–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ 10 –≥–æ—Ä—É—Ç–∏–Ω —É–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç)
    go func(u string) {
        defer func() { <-sem }() // –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —Å–ª–æ—Ç
        fetch(u)
    }(url)
}
```

**–ü—Ä–∏–Ω—Ü–∏–ø:** –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ –∫–∞–Ω–∞–ª –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –±—É—Ñ–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω. –ì–æ—Ä—É—Ç–∏–Ω–∞ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è, –ø–æ–∫–∞ –æ–¥–Ω–∞ –∏–∑ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –Ω–µ –æ—Å–≤–æ–±–æ–¥–∏—Ç —Å–ª–æ—Ç —á—Ç–µ–Ω–∏–µ–º –∏–∑ –∫–∞–Ω–∞–ª–∞.

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**

- `errgroup.SetLimit(n)` ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ errgroup
- `golang.org/x/sync/semaphore` ‚Äî –≤–∑–≤–µ—à–µ–Ω–Ω—ã–π —Å–µ–º–∞—Ñ–æ—Ä –¥–ª—è —Ä–∞–∑–Ω–æ–≥–æ ¬´–≤–µ—Å–∞¬ª –∑–∞–¥–∞—á

---

### 55. –ß—Ç–æ —Ç–∞–∫–æ–µ sync.Cond –∏ –∫–æ–≥–¥–∞ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–æ –∫–∞–Ω–∞–ª–æ–≤?

`sync.Cond` ‚Äî –ø—Ä–∏–º–∏—Ç–∏–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π —É—Å–ª–æ–≤–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (condition variable). –ü–æ–∑–≤–æ–ª—è–µ—Ç –≥–æ—Ä—É—Ç–∏–Ω–∞–º –∂–¥–∞—Ç—å –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —É—Å–ª–æ–≤–∏—è –∏ –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö.

**–ú–µ—Ç–æ–¥—ã:**

- `Wait()` ‚Äî –∞—Ç–æ–º–∞—Ä–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –º—å—é—Ç–µ–∫—Å –∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –≥–æ—Ä—É—Ç–∏–Ω—É –¥–æ —Å–∏–≥–Ω–∞–ª–∞
- `Signal()` ‚Äî –ø—Ä–æ–±—É–∂–¥–∞–µ—Ç –æ–¥–Ω—É –æ–∂–∏–¥–∞—é—â—É—é –≥–æ—Ä—É—Ç–∏–Ω—É
- `Broadcast()` ‚Äî –ø—Ä–æ–±—É–∂–¥–∞–µ—Ç –≤—Å–µ –æ–∂–∏–¥–∞—é—â–∏–µ –≥–æ—Ä—É—Ç–∏–Ω—ã

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

```go
c.L.Lock()
for !condition() {
    c.Wait() // –≤—Å–µ–≥–¥–∞ –≤ —Ü–∏–∫–ª–µ, –Ω–µ –≤ if
}
// —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
c.L.Unlock()
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–æ –∫–∞–Ω–∞–ª–æ–≤:**

- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –ø–æ –±—É–ª–µ–≤–æ–º—É/—á–∏—Å–ª–æ–≤–æ–º—É —É—Å–ª–æ–≤–∏—é –±–µ–∑ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö
- –ù—É–∂–Ω–æ –ø—Ä–æ–±—É–¥–∏—Ç—å –ª–∏–±–æ –æ–¥–Ω—É, –ª–∏–±–æ –≤—Å–µ –≥–æ—Ä—É—Ç–∏–Ω—ã (–∫–∞–Ω–∞–ª—ã —Ç–∞–∫ –Ω–µ —É–º–µ—é—Ç)
- –ú–Ω–æ–≥–æ –æ–∂–∏–¥–∞—é—â–∏—Ö –≥–æ—Ä—É—Ç–∏–Ω ‚Äî `sync.Cond` —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –ø–æ –ø–∞–º—è—Ç–∏

**–ü–æ—á–µ–º—É Wait() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Ü–∏–∫–ª–µ:** –ø–æ—Å–ª–µ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è —É—Å–ª–æ–≤–∏–µ –º–æ–∂–µ—Ç —Å–Ω–æ–≤–∞ —Å—Ç–∞—Ç—å –ª–æ–∂–Ω—ã–º (spurious wakeup –∏–ª–∏ –¥—Ä—É–≥–∞—è –≥–æ—Ä—É—Ç–∏–Ω–∞ —É—Å–ø–µ–ª–∞ —Ä–∞–Ω—å—à–µ).

---

### 56. –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–Ω—É—Ç—Ä–∏ –∏ —á–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è iface –æ—Ç eface?

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ Go ‚Äî —ç—Ç–æ –ø–∞—Ä–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π. –í —Ä–∞–Ω—Ç–∞–π–º–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –¥–≤–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:

**eface (empty interface)** ‚Äî –¥–ª—è –ø—É—Å—Ç–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `interface{}` –∏–ª–∏ `any`:

```go
type eface struct {
    _type *_type // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–∏–ø–µ
    data  unsafe.Pointer // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –¥–∞–Ω–Ω—ã–µ
}
```

**iface (interface)** ‚Äî –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ —Å –º–µ—Ç–æ–¥–∞–º–∏:

```go
type iface struct {
    tab  *itab          // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ç–∞–±–ª–∏—Ü—É –º–µ—Ç–æ–¥–æ–≤
    data unsafe.Pointer // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –¥–∞–Ω–Ω—ã–µ
}
```

**itab** —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–∏–ø–µ –∏ —Ç–∞–±–ª–∏—Ü—É –º–µ—Ç–æ–¥–æ–≤ (vtable):

- `inter` ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ç–∏–ø –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- `_type` ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø
- `fun` ‚Äî –º–∞—Å—Å–∏–≤ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–∞ –º–µ—Ç–æ–¥—ã

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–ª–µ–¥—Å—Ç–≤–∏—è:**

- –†–∞–∑–º–µ—Ä –ª—é–±–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ‚Äî 16 –±–∞–π—Ç (–¥–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è)
- –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –≤—ã–∑—ã–≤–∞–µ—Ç –∞–ª–ª–æ–∫–∞—Ü–∏—é, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ —É–∫–∞–∑–∞—Ç–µ–ª—å
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∏ —Ç–∏–ø, –∏ –∑–Ω–∞—á–µ–Ω–∏–µ
- `nil`-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å `nil`-–∑–Ω–∞—á–µ–Ω–∏–µ–º ‚Äî —Ä–∞–∑–Ω—ã–µ –≤–µ—â–∏

```go
var i interface{} = nil  // i == nil (true)
var p *int = nil
var j interface{} = p    // j != nil (true), –Ω–æ j —Å–æ–¥–µ—Ä–∂–∏—Ç nil-—É–∫–∞–∑–∞—Ç–µ–ª—å
```

---

### 57. –ö–∞–∫ –ø–∏—Å–∞—Ç—å –±–µ–Ω—á–º–∞—Ä–∫–∏ –≤ Go –∏ —á—Ç–æ —Ç–∞–∫–æ–µ b.N?

–ë–µ–Ω—á–º–∞—Ä–∫–∏ –≤ Go –ø–∏—à—É—Ç—Å—è –≤ —Ñ–∞–π–ª–∞—Ö `*_test.go` —Å —Å–∏–≥–Ω–∞—Ç—É—Ä–æ–π `func BenchmarkXxx(b *testing.B)`. –ó–∞–ø—É—Å–∫: `go test -bench=.`

```go
func BenchmarkConcat(b *testing.B) {
    for i := 0; i < b.N; i++ {
        _ = "hello" + "world"
    }
}
```

**b.N** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–±–∏—Ä–∞–µ–º–æ–µ Go –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞. –ß–µ–º –±—ã—Å—Ç—Ä–µ–µ –æ–ø–µ—Ä–∞—Ü–∏—è, —Ç–µ–º –±–æ–ª—å—à–µ `b.N`.

**–í–∞–∂–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**

- `b.ResetTimer()` ‚Äî —Å–±—Ä–æ—Å–∏—Ç—å —Ç–∞–π–º–µ—Ä –ø–æ—Å–ª–µ setup-–∫–æ–¥–∞
- `b.StopTimer()` / `b.StartTimer()` ‚Äî –∏—Å–∫–ª—é—á–∏—Ç—å –∫–æ–¥ –∏–∑ –∏–∑–º–µ—Ä–µ–Ω–∏–π
- `b.ReportAllocs()` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –∞–ª–ª–æ–∫–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏

**–ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º:** —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∏–Ω–∞—á–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å ¬´–±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–π¬ª –∫–æ–¥.

---

### 58. –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–∂–µ–Ω–µ—Ä–∏–∫–∏ (generics) –≤ Go –∏ –∫–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —É type parameters?

[–î–∂–µ–Ω–µ—Ä–∏–∫–∏][generics] (Go 1.18+) ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

```go
func Min[T constraints.Ordered](a, b T) T {
    if a < b {
        return a
    }
    return b
}
```

**Type constraint** ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–µ–µ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Ç–∏–ø—ã –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:

- `any` ‚Äî –ª—é–±–æ–π —Ç–∏–ø (–∞–ª–∏–∞—Å –¥–ª—è `interface{}`)
- `comparable` ‚Äî —Ç–∏–ø—ã, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–µ `==` –∏ `!=`
- `constraints.Ordered` ‚Äî —Ç–∏–ø—ã —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (`<`, `>`)

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–∂–µ–Ω–µ—Ä–∏–∫–æ–≤ –≤ Go:**

- –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å type parameter –∫–∞–∫ —Ç–∏–ø –≤ type assertion (`x.(T)`)
- –ú–µ—Ç–æ–¥—ã –Ω–µ –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ type parameters (—Ç–æ–ª—å–∫–æ —É —Ç–∏–ø–∞)
- –ù–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äî –Ω–µ–ª—å–∑—è –Ω–∞–ø–∏—Å–∞—Ç—å –æ—Å–æ–±—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞

---

### 59. –ö–∞–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –º–æ–≥—É—Ç –±—ã—Ç—å –∫–ª—é—á–∞–º–∏ map –≤ Go?

–ö–ª—é—á–æ–º map –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–π **comparable** (—Å—Ä–∞–≤–Ω–∏–º—ã–π) —Ç–∏–ø ‚Äî —Ç–∏–ø, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–∏ `==` –∏ `!=`.

**–ú–æ–≥—É—Ç –±—ã—Ç—å –∫–ª—é—á–∞–º–∏:**

- –ß–∏—Å–ª–∞, —Å—Ç—Ä–æ–∫–∏, bool
- –£–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ –∫–∞–Ω–∞–ª—ã
- –ú–∞—Å—Å–∏–≤—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–ª–∏–Ω—ã (–µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç—ã —Å—Ä–∞–≤–Ω–∏–º—ã)
- –°—Ç—Ä—É–∫—Ç—É—Ä—ã (–µ—Å–ª–∏ –≤—Å–µ –ø–æ–ª—è —Å—Ä–∞–≤–Ω–∏–º—ã)

**–ù–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–ª—é—á–∞–º–∏:**

- –°–ª–∞–π—Å—ã
- –ú–∞–ø—ã
- –§—É–Ω–∫—Ü–∏–∏

```go
type Point struct { X, Y int }
m := make(map[Point]string)
m[Point{1, 2}] = "ok" // —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∫ –∫–ª—é—á ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç

// map[[]int]string ‚Äî –æ—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: slice –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–ª—é—á–æ–º
```

**–ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ comparable:** –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∏ –ø–æ–∏—Å–∫–∞ –≤ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–µ –Ω—É–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –∫–ª—é—á–∏. –¢–∏–ø—ã –±–µ–∑ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –Ω–µ –º–æ–≥—É—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —ç—Ç–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ.

---

### 60. –ó–∞—á–µ–º –Ω—É–∂–µ–Ω strings.Builder –∏ –ø–æ—á–µ–º—É –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —á–µ—Ä–µ–∑ + –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –≤ —Ü–∏–∫–ª–µ?

`strings.Builder` ‚Äî —Ç–∏–ø –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å—Ç—Ä–æ–∫ –ø—É—Ç—ë–º –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –∞–ª–ª–æ–∫–∞—Ü–∏–π –ø–∞–º—è—Ç–∏.

**–ü—Ä–æ–±–ª–µ–º–∞ —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º +:** —Å—Ç—Ä–æ–∫–∏ –≤ Go –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã, –ø–æ—ç—Ç–æ–º—É –∫–∞–∂–¥–∞—è –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É. –í —Ü–∏–∫–ª–µ —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ O(n¬≤) –∞–ª–ª–æ–∫–∞—Ü–∏—è–º ‚Äî –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤—Å—è –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞.

```go
// –ü–ª–æ—Ö–æ ‚Äî O(n¬≤) –ø–æ –ø–∞–º—è—Ç–∏
s := ""
for i := 0; i < 1000; i++ {
    s += "a" // –∫–∞–∂–¥—ã–π —Ä–∞–∑ –Ω–æ–≤–∞—è –∞–ª–ª–æ–∫–∞—Ü–∏—è
}

// –•–æ—Ä–æ—à–æ ‚Äî O(n) –ø–æ –ø–∞–º—è—Ç–∏
var b strings.Builder
for i := 0; i < 1000; i++ {
    b.WriteString("a")
}
result := b.String()
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:** `strings.Builder` —Ö—Ä–∞–Ω–∏—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π `[]byte`-–±—É—Ñ–µ—Ä. –ù–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –±—É—Ñ–µ—Ä, –∞–ª–ª–æ–∫–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ (–ø–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —É–¥–≤–æ–µ–Ω–∏—è).

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- `String()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –±–µ–∑ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ù–µ–ª—å–∑—è –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ‚Äî panic –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–ø–∏—é
- –ù–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω ‚Äî –Ω—É–∂–Ω–∞ –≤–Ω–µ—à–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

---

### 61. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É nil interface –∏ interface —Å nil-–∑–Ω–∞—á–µ–Ω–∏–µ–º –≤–Ω—É—Ç—Ä–∏?

–≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ª–æ–≤—É—à–∫–∞ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è—Ö. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ Go —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π: —Ç–∏–ø–∞ –∏ –∑–Ω–∞—á–µ–Ω–∏—è. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–≤–µ–Ω `nil` —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ **–æ–±–µ** —á–∞—Å—Ç–∏ —Ä–∞–≤–Ω—ã `nil`.

```go
var i interface{} = nil
fmt.Println(i == nil) // true ‚Äî –∏ —Ç–∏–ø, –∏ –∑–Ω–∞—á–µ–Ω–∏–µ nil

var p *int = nil
var j interface{} = p
fmt.Println(j == nil) // false! ‚Äî —Ç–∏–ø *int, –∑–Ω–∞—á–µ–Ω–∏–µ nil
```

**–ü–æ—á–µ–º—É —Ç–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:** –∫–æ–≥–¥–∞ `nil`-—É–∫–∞–∑–∞—Ç–µ–ª—å –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Ç–∏–ø —É–∫–∞–∑–∞—Ç–µ–ª—è. –¢–µ–ø–µ—Ä—å —É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –µ—Å—Ç—å —Ç–∏–ø (`*int`), —Ö–æ—Ç—è –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî `nil`.

**–ß–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞ ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ nil-—É–∫–∞–∑–∞—Ç–µ–ª—è –∫–∞–∫ error:**

```go
func getUser() error {
    var err *MyError = nil
    return err // –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å error –±—É–¥–µ—Ç != nil!
}

if err := getUser(); err != nil {
    // —ç—Ç–æ—Ç –±–ª–æ–∫ –í–´–ü–û–õ–ù–ò–¢–°–Ø, —Ö–æ—Ç—è err —Å–æ–¥–µ—Ä–∂–∏—Ç nil
}
```

**–ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å:** –≤–æ–∑–≤—Ä–∞—â–∞–π `nil` —è–≤–Ω–æ, –∞ –Ω–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞:

```go
func getUser() error {
    return nil // –ø—Ä–∞–≤–∏–ª—å–Ω–æ
}
```

---

### 62. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç Go Modules –∏ –¥–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã —Ñ–∞–π–ª—ã go.mod –∏ go.sum?

Go Modules ‚Äî —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏, –ø–æ—è–≤–∏–≤—à–∞—è—Å—è –≤ Go 1.11. –ú–æ–¥—É–ª—å ‚Äî —ç—Ç–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è –ø–∞–∫–µ—Ç–æ–≤ —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

**go.mod** —Å–æ–¥–µ—Ä–∂–∏—Ç:

- –ü—É—Ç—å –º–æ–¥—É–ª—è (module path) ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏ –ø—É—Ç—å –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
- –í–µ—Ä—Å–∏—é Go
- –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ —Ç—Ä–µ–±—É–µ–º—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ (`require`)
- –ó–∞–º–µ–Ω—ã (`replace`) –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (`exclude`)

**go.sum** —Å–æ–¥–µ—Ä–∂–∏—Ç –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ö–µ—à–∏ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –∫–æ–¥ –Ω–µ –±—ã–ª –∏–∑–º–µ–Ω—ë–Ω (–∑–∞—â–∏—Ç–∞ –æ—Ç supply chain –∞—Ç–∞–∫).

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**

- `go mod init` ‚Äî —Å–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å
- `go mod tidy` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∏ —É–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `go get package@version` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
- `go mod download` ‚Äî —Å–∫–∞—á–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±–µ–∑ —Å–±–æ—Ä–∫–∏

**–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (SemVer):** `v1.2.3` ‚Äî major.minor.patch. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ major (v2+) –ø—É—Ç—å –º–æ–¥—É–ª—è –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å –≤–µ—Ä—Å–∏—é: `github.com/user/repo/v2`.

---

### 63. –ß—Ç–æ —Ç–∞–∫–æ–µ errgroup.Group –∏ —á–µ–º –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç sync.WaitGroup?

`errgroup.Group` –∏–∑ –ø–∞–∫–µ—Ç–∞ `golang.org/x/sync/errgroup` ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `sync.WaitGroup` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∏ –æ—Ç–º–µ–Ω—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç WaitGroup:**

- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—É—é –æ—à–∏–±–∫—É –∏–∑ –≥—Ä—É–ø–ø—ã –≥–æ—Ä—É—Ç–∏–Ω —á–µ—Ä–µ–∑ `g.Wait()`
- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `errgroup.WithContext` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ–Ω—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–µ
- `SetLimit(n)` –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –≥–æ—Ä—É—Ç–∏–Ω
- –ù–µ –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å `Add()` ‚Äî –≤—ã–∑–æ–≤ `Go()` —Å–∞–º —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫

```go
g, ctx := errgroup.WithContext(context.Background())

for _, url := range urls {
    g.Go(func() error {
        return fetch(ctx, url) // –ø—Ä–∏ –æ—à–∏–±–∫–µ ctx –æ—Ç–º–µ–Ω–∏—Ç—Å—è
    })
}

if err := g.Wait(); err != nil {
    // –ø–µ—Ä–≤–∞—è –æ—à–∏–±–∫–∞ –∏–∑ –ª—é–±–æ–π –≥–æ—Ä—É—Ç–∏–Ω—ã
}
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

- `sync.WaitGroup` ‚Äî –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –¥–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≥–æ—Ä—É—Ç–∏–Ω –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- `errgroup.Group` ‚Äî –∫–æ–≥–¥–∞ –≤–∞–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –æ—à–∏–±–∫—É –∏/–∏–ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≥–æ—Ä—É—Ç–∏–Ω—ã –ø—Ä–∏ —Å–±–æ–µ

---

### 64. –ö–∞–∫ —Ä–∞—Å—Ç—ë—Ç capacity —Å–ª–∞–π—Å–∞ –ø—Ä–∏ append –∏ –ø–æ—á–µ–º—É?

–ü—Ä–∏ –≤—ã–∑–æ–≤–µ `append`, –µ—Å–ª–∏ capacity —Å–ª–∞–π—Å–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞, Go –∞–ª–ª–æ—Ü–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π underlying array —Å —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–π —ë–º–∫–æ—Å—Ç—å—é –∏ –∫–æ–ø–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ.

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–æ—Å—Ç–∞ (Go 1.18+):**

- –î–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —Å–ª–∞–π—Å–æ–≤ (capacity < 256) ‚Äî —É–¥–≤–æ–µ–Ω–∏–µ
- –î–ª—è –±–æ–ª—å—à–∏—Ö —Å–ª–∞–π—Å–æ–≤ ‚Äî –ø–ª–∞–≤–Ω–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ —Ä–æ—Å—Ç–∞ –¥–æ ~1.25

```go
s := make([]int, 0)
for i := 0; i < 10; i++ {
    s = append(s, i)
    fmt.Printf("len=%d cap=%d\n", len(s), cap(s))
}
// cap: 1, 2, 4, 8, 8, 8, 8, 8, 16, 16
```

**–ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç–∞–∫:**

- –£–¥–≤–æ–µ–Ω–∏–µ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —Å–ª–∞–π—Å–æ–≤ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–ª–ª–æ–∫–∞—Ü–∏–π (–∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å O(1))
- –ú–µ–Ω—å—à–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ª–∞–π—Å–æ–≤ —ç–∫–æ–Ω–æ–º–∏—Ç –ø–∞–º—è—Ç—å ‚Äî —É–¥–≤–æ–µ–Ω–∏–µ —Ç–µ—Ä–∞–±–∞–π—Ç–Ω–æ–≥–æ —Å–ª–∞–π—Å–∞ –Ω–µ—Ä–∞–∑—É–º–Ω–æ

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å–æ–≤–µ—Ç:** –µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∑–∞—Ä–∞–Ω–µ–µ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `make([]T, 0, n)` –¥–ª—è –ø—Ä–µ–¥–∞–ª–ª–æ–∫–∞—Ü–∏–∏. –≠—Ç–æ –∏–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –∞–ª–ª–æ–∫–∞—Ü–∏–π –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–π.

---

### 65. –ö–∞–∫ defer –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏?

`defer` –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –µ—Å–ª–∏ –æ–Ω–æ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–µ. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è ‚Äî —ç—Ç–æ –æ–±—ã—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤ `defer`.

```go
func example() (result int) {
    defer func() { result++ }()
    return 0 // –≤–µ—Ä–Ω—ë—Ç 1, –Ω–µ 0
}
```

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `return x`:**

1. –ó–Ω–∞—á–µ–Ω–∏–µ `x` –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `result`
2. –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤—Å–µ `defer` —Ñ—É–Ω–∫—Ü–∏–∏ (–º–æ–≥—É—Ç –∏–∑–º–µ–Ω–∏—Ç—å `result`)
3. –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `result`

**–ë–µ–∑ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ defer –Ω–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

```go
func example() int {
    result := 0
    defer func() { result++ }()
    return result // –≤–µ—Ä–Ω—ë—Ç 0, defer –∏–∑–º–µ–Ω–∏—Ç –ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é
}
```

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∫ –æ—à–∏–±–∫–µ –∏–ª–∏ –∑–∞–∫—Ä—ã—Ç–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π:

```go
func readFile(path string) (data []byte, err error) {
    f, err := os.Open(path)
    if err != nil {
        return nil, err
    }
    defer func() {
        if closeErr := f.Close(); closeErr != nil && err == nil {
            err = closeErr
        }
    }()
    return io.ReadAll(f)
}
```

---

### 66. –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã Fan-Out –∏ Fan-In –≤ Go?

**Fan-Out** ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –∏–∑ –æ–¥–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–æ—Ä—É—Ç–∏–Ω-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.

**Fan-In** ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–Ω–∞–ª–æ–≤ –≤ –æ–¥–∏–Ω.

```go
// Fan-Out: –∑–∞–ø—É—Å–∫ N –≤–æ—Ä–∫–µ—Ä–æ–≤, —á–∏—Ç–∞—é—â–∏—Ö –∏–∑ –æ–¥–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞ –∑–∞–¥–∞—á
for i := 0; i < numWorkers; i++ {
    go worker(jobs, results)
}

// Fan-In: –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–Ω–∞–ª–æ–≤ –≤ –æ–¥–∏–Ω
func merge(cs ...<-chan int) <-chan int {
    out := make(chan int)
    var wg sync.WaitGroup
    for _, c := range cs {
        wg.Add(1)
        go func(ch <-chan int) {
            defer wg.Done()
            for v := range ch {
                out <- v
            }
        }(c)
    }
    go func() { wg.Wait(); close(out) }()
    return out
}
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

- Fan-Out ‚Äî CPU-bound –∏–ª–∏ I/O-bound –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤, HTTP-–∑–∞–ø—Ä–æ—Å—ã)
- Fan-In ‚Äî —Å–±–æ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

**–í–∞–∂–Ω–æ:** –ø–æ—Ä—è–¥–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω ‚Äî –≥–æ—Ä—É—Ç–∏–Ω—ã –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è –≤ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

---

### 67. –ß—Ç–æ —Ç–∞–∫–æ–µ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å HTTP-–º–µ—Ç–æ–¥–æ–≤ –∏ –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã —è–≤–ª—è—é—Ç—Å—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–º–∏?

–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å ‚Äî —Å–≤–æ–π—Å—Ç–≤–æ –º–µ—Ç–æ–¥–∞, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –∑–∞–ø—Ä–æ—Å–∞ –¥–∞—ë—Ç —Ç–æ—Ç –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —á—Ç–æ –∏ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–µ.

**–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**

- `GET`, `HEAD`, `OPTIONS` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ (–Ω–µ –∏–∑–º–µ–Ω—è—é—Ç –¥–∞–Ω–Ω—ã–µ) –∏ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–µ
- `PUT`, `DELETE` ‚Äî –∏–∑–º–µ–Ω—è—é—Ç –¥–∞–Ω–Ω—ã–µ, –Ω–æ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–µ

**–ù–µ–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**

- `POST` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π —Ä–µ—Å—É—Ä—Å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ
- `PATCH` ‚Äî –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**

- –ü—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö —Å–±–æ—è—Ö –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å
- `PUT /users/1` —Å —Ç–µ–ª–æ–º `{name: "Ivan"}` ‚Äî –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–æ—Ç –∂–µ
- `POST /users` —Å —Ç–µ–º –∂–µ —Ç–µ–ª–æ–º ‚Äî —Å–æ–∑–¥–∞—Å—Ç –¥—É–±–ª–∏–∫–∞—Ç

**–ß–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏:** —Å—á–∏—Ç–∞—Ç—å DELETE –Ω–µ–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ –≤–µ—Ä–Ω—ë—Ç 404. –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å ‚Äî –ø—Ä–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞, –∞ –Ω–µ –ø—Ä–æ –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞.

---

### 68. –ö–∞–∫–∏–µ —É—Ä–æ–≤–Ω–∏ –∏–∑–æ–ª—è—Ü–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö?

–£—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–∏–µ –∞–Ω–æ–º–∞–ª–∏–∏ –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. –û—Ç –Ω–∏–∑—à–µ–≥–æ –∫ –≤—ã—Å—à–µ–º—É:

**Read Uncommitted** ‚Äî —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤–∏–¥–∏—Ç –Ω–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (dirty read). –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –ø–æ—á—Ç–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

**Read Committed** ‚Äî —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –í–æ–∑–º–æ–∂–Ω–∞ –∞–Ω–æ–º–∞–ª–∏—è non-repeatable read: –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —Ç–æ–π –∂–µ —Å—Ç—Ä–æ–∫–∏ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ. –î–µ—Ñ–æ–ª—Ç –≤ PostgreSQL.

**Repeatable Read** ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º —á—Ç–µ–Ω–∏–∏ —Å—Ç—Ä–æ–∫–∏. –í–æ–∑–º–æ–∂–Ω–∞ –∞–Ω–æ–º–∞–ª–∏—è phantom read: –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –¥—Ä—É–≥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π, –º–æ–≥—É—Ç –ø–æ—è–≤–∏—Ç—å—Å—è –≤ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ.

**Serializable** ‚Äî –ø–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–∞–∫ –±—É–¥—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ. –°–∞–º—ã–π –º–µ–¥–ª–µ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å.

**–ü—Ä–∞–∫—Ç–∏–∫–∞:** –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞–¥–∞—á –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ Read Committed. Repeatable Read –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤ –∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. Serializable ‚Äî —Ä–µ–¥–∫–æ, —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å.

---

### 69. –ß–µ–º –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –º–æ–Ω–æ–ª–∏—Ç–∞?

**–ú–æ–Ω–æ–ª–∏—Ç** ‚Äî –µ–¥–∏–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≥–¥–µ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (UI, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –ë–î) —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ –∏ –¥–µ–ø–ª–æ—è—Ç—Å—è –≤–º–µ—Å—Ç–µ.

**–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã** ‚Äî –Ω–∞–±–æ—Ä –Ω–µ–±–æ–ª—å—à–∏—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –∫–∞–∂–¥—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–¥–Ω—É –±–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏—é, –∏–º–µ–µ—Ç —Å–≤–æ—é –ë–î –∏ –¥–µ–ø–ª–æ–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ.

**–ü–ª—é—Å—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:**

- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π –¥–µ–ø–ª–æ–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- –†–∞–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- –û—Ç–∫–∞–∑ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –Ω–µ —Ä–æ–Ω—è–µ—Ç –≤—Å—é —Å–∏—Å—Ç–µ–º—É

**–ú–∏–Ω—É—Å—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:**

- –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã (—Å–µ—Ç—å, latency, –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)
- –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã: –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ç—Ä–µ–π—Å–∏–Ω–≥
- –°–ª–æ–∂–Ω–µ–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

**–ö–æ–≥–¥–∞ –≤—ã–±–∏—Ä–∞—Ç—å –º–æ–Ω–æ–ª–∏—Ç:** —Å—Ç–∞—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞, –º–∞–ª–µ–Ω—å–∫–∞—è –∫–æ–º–∞–Ω–¥–∞, –Ω–µ—è—Å–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã –¥–æ–º–µ–Ω–∞. –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã ‚Äî –∫–æ–≥–¥–∞ —Å–∏—Å—Ç–µ–º–∞ –≤—ã—Ä–æ—Å–ª–∞, –∫–æ–º–∞–Ω–¥–∞ –±–æ–ª—å—à–∞—è, –Ω—É–∂–Ω–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ.

---

### 70. –ß—Ç–æ —Ç–∞–∫–æ–µ N+1 –ø—Ä–æ–±–ª–µ–º–∞ –≤ –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –∫–∞–∫ –µ—ë —Ä–µ—à–∏—Ç—å?

N+1 ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∫–æ–≥–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è 1 –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å –∏ N –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏.

```go
// N+1 –ø—Ä–æ–±–ª–µ–º–∞: 1 –∑–∞–ø—Ä–æ—Å –Ω–∞ users + N –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ orders
users := db.Find(&users)
for _, u := range users {
    db.Where("user_id = ?", u.ID).Find(&u.Orders) // N –∑–∞–ø—Ä–æ—Å–æ–≤
}
```

**–†–µ—à–µ–Ω–∏—è:**

- **JOIN** ‚Äî –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º
- **Preload (eager loading)** ‚Äî –≤ GORM: `db.Preload("Orders").Find(&users)`
- **Batch loading** ‚Äî –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–∞—á–∫–æ–π: `WHERE user_id IN (...)`

**–ö–∞–∫ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å:** –≤–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Å–ø–∏—Å–∫–∞.

---

### 71. –ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è HTTP-–º–µ—Ç–æ–¥—ã PUT –∏ PATCH?

**PUT** ‚Äî –ø–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ —Ä–µ—Å—É—Ä—Å–∞. –ö–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞, —Å–µ—Ä–≤–µ—Ä –∑–∞–º–µ–Ω—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ä–µ—Å—É—Ä—Å —Ü–µ–ª–∏–∫–æ–º.

**PATCH** ‚Äî —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ. –ö–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ –ø–æ–ª—è.

```http
PUT /users/1
{"name": "Ivan", "email": "ivan@example.com", "age": 30}

PATCH /users/1
{"age": 31}
```

**–ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:**

- PUT –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–µ–Ω –ø–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, PATCH ‚Äî –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- PUT —Ç—Ä–µ–±—É–µ—Ç –ø–æ–ª–Ω—ã–π –æ–±—ä–µ–∫—Ç (–ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –ø–æ–ª—è –º–æ–≥—É—Ç –æ–±–Ω—É–ª–∏—Ç—å—Å—è)
- PATCH —ç–∫–æ–Ω–æ–º–∏—Ç —Ç—Ä–∞—Ñ–∏–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—è

**–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:** –º–Ω–æ–≥–∏–µ API –∏—Å–ø–æ–ª—å–∑—É—é—Ç PUT –¥–ª—è –ª—é–±—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π. –í–∞–∂–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ –±—ã—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞.

---

### 72. –ß—Ç–æ —Ç–∞–∫–æ–µ –∏–Ω–¥–µ–∫—Å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–≥–¥–∞ –µ–≥–æ –ù–ï —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

–ò–Ω–¥–µ–∫—Å ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (–æ–±—ã—á–Ω–æ B-tree), —É—Å–∫–æ—Ä—è—é—â–∞—è –ø–æ–∏—Å–∫ —Å—Ç—Ä–æ–∫ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é –∫–æ–ª–æ–Ω–∫–∏. –ë–µ–∑ –∏–Ω–¥–µ–∫—Å–∞ –ë–î —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –≤—Å—é —Ç–∞–±–ª–∏—Ü—É (full table scan).

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

- –ö–æ–ª–æ–Ω–∫–∏ –≤ WHERE, JOIN, ORDER BY
- –ö–æ–ª–æ–Ω–∫–∏ —Å –≤—ã—Å–æ–∫–æ–π –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é (–º–Ω–æ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π)
- –ü–µ—Ä–≤–∏—á–Ω—ã–µ –∏ –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ (—Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

**–ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

- –ú–∞–ª–µ–Ω—å–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã (< 1000 —Å—Ç—Ä–æ–∫) ‚Äî full scan –±—ã—Å—Ç—Ä–µ–µ
- –ö–æ–ª–æ–Ω–∫–∏ —Å –Ω–∏–∑–∫–æ–π –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é (boolean, enum —Å 2-3 –∑–Ω–∞—á–µ–Ω–∏—è–º–∏)
- –¢–∞–±–ª–∏—Ü—ã —Å —á–∞—Å—Ç—ã–º–∏ INSERT/UPDATE ‚Äî –∏–Ω–¥–µ–∫—Å—ã –∑–∞–º–µ–¥–ª—è—é—Ç –∑–∞–ø–∏—Å—å
- –ö–æ–ª–æ–Ω–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–¥–∫–æ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö

**–¶–µ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞:** –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ, –∑–∞–º–µ–¥–ª—è–µ—Ç INSERT/UPDATE/DELETE, —Ç–∞–∫ –∫–∞–∫ –ë–î –¥–æ–ª–∂–Ω–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å –∏–Ω–¥–µ–∫—Å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

---

### 73. –ö–∞–∫–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ HTTP-—Å—Ç–∞—Ç—É—Å-–∫–æ–¥—ã –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å backend-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫?

HTTP-—Å—Ç–∞—Ç—É—Å-–∫–æ–¥—ã ‚Äî —Ç—Ä—ë—Ö–∑–Ω–∞—á–Ω—ã–µ —á–∏—Å–ª–∞ –≤ –æ—Ç–≤–µ—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞.

**2xx ‚Äî —É—Å–ø–µ—Ö:**

- `200 OK` ‚Äî –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- `201 Created` ‚Äî —Ä–µ—Å—É—Ä—Å —Å–æ–∑–¥–∞–Ω (–æ—Ç–≤–µ—Ç –Ω–∞ POST)
- `204 No Content` ‚Äî —É—Å–ø–µ—Ö, –Ω–æ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ –ø—É—Å—Ç–æ–µ (–æ—Ç–≤–µ—Ç –Ω–∞ DELETE)

**4xx ‚Äî –æ—à–∏–±–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞:**

- `400 Bad Request` ‚Äî –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–≤–∞–ª–∏–¥–∞—Ü–∏—è)
- `401 Unauthorized` ‚Äî —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `403 Forbidden` ‚Äî –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- `404 Not Found` ‚Äî —Ä–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- `409 Conflict` ‚Äî –∫–æ–Ω—Ñ–ª–∏–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥—É–±–ª–∏–∫–∞—Ç)
- `422 Unprocessable Entity` ‚Äî —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ (—á–∞—Å—Ç–æ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏)

**5xx ‚Äî –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:**

- `500 Internal Server Error` ‚Äî –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- `502 Bad Gateway` ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ —Å upstream-—Å–µ—Ä–≤–µ—Ä–æ–º
- `503 Service Unavailable` ‚Äî —Å–µ—Ä–≤–µ—Ä –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- `504 Gateway Timeout` ‚Äî —Ç–∞–π–º–∞—É—Ç –æ—Ç upstream-—Å–µ—Ä–≤–µ—Ä–∞

---

### 74. –ß—Ç–æ —Ç–∞–∫–æ–µ ACID –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö?

ACID ‚Äî —á–µ—Ç—ã—Ä–µ —Å–≤–æ–π—Å—Ç–≤–∞, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—â–∏–µ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

**Atomicity (–∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å)** ‚Äî —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ü–µ–ª–∏–∫–æ–º –∏–ª–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–æ–æ–±—â–µ. –ü—Ä–∏ –æ—à–∏–±–∫–µ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è.

**Consistency (—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å)** ‚Äî —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –ë–î –∏–∑ –æ–¥–Ω–æ–≥–æ –≤–∞–ª–∏–¥–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –¥—Ä—É–≥–æ–µ. –ù–∞—Ä—É—à–µ–Ω–∏–µ constraints –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é.

**Isolation (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å)** ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ –≤–ª–∏—è—é—Ç –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞. –£—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç–µ–ø–µ–Ω—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

**Durability (–¥–æ–ª–≥–æ–≤–µ—á–Ω–æ—Å—Ç—å)** ‚Äî –ø–æ—Å–ª–µ COMMIT –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –¥–∞–∂–µ –ø—Ä–∏ —Å–±–æ–µ –ø–∏—Ç–∞–Ω–∏—è. –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å—é –≤ WAL (Write-Ahead Log).

**–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:** ACID –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –ë–î (PostgreSQL, MySQL). NoSQL —á–∞—Å—Ç–æ –∂–µ—Ä—Ç–≤—É—é—Ç —á–∞—Å—Ç—å—é ACID —Ä–∞–¥–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (eventual consistency).

---

### 75. –ß—Ç–æ —Ç–∞–∫–æ–µ CORS –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?

CORS (Cross-Origin Resource Sharing) ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –±—Ä–∞—É–∑–µ—Ä—É –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –¥—Ä—É–≥–æ–º—É –¥–æ–º–µ–Ω—É (origin). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏–∑ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (Same-Origin Policy).

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

1. –ë—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç preflight-–∑–∞–ø—Ä–æ—Å (OPTIONS) —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º `Origin`
2. –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ `Access-Control-Allow-*`
3. –ï—Å–ª–∏ origin —Ä–∞–∑—Ä–µ—à—ë–Ω ‚Äî –±—Ä–∞—É–∑–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ø—Ä–æ—Å

**–ö–ª—é—á–µ–≤—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞:**

- `Access-Control-Allow-Origin` ‚Äî —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ origins (`*` –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–æ–º–µ–Ω)
- `Access-Control-Allow-Methods` ‚Äî —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ HTTP-–º–µ—Ç–æ–¥—ã
- `Access-Control-Allow-Headers` ‚Äî —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
- `Access-Control-Allow-Credentials` ‚Äî —Ä–∞–∑—Ä–µ—à–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É cookies

**–í–∞–∂–Ω–æ:** CORS ‚Äî —ç—Ç–æ –∑–∞—â–∏—Ç–∞ –±—Ä–∞—É–∑–µ—Ä–∞, –Ω–µ —Å–µ—Ä–≤–µ—Ä–∞. curl –∏ Postman –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç CORS. Backend –¥–æ–ª–∂–µ–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é.

---

### 76. –ß—Ç–æ —Ç–∞–∫–æ–µ Circuit Breaker –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö?

Circuit Breaker (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å) ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—â–∏–π –∫–∞—Å–∫–∞–¥–Ω—ã–µ —Å–±–æ–∏ –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö. –ï—Å–ª–∏ —Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –Ω–µ—Ç —Å–º—ã—Å–ª–∞ —Å–ª–∞—Ç—å –µ–º—É –∑–∞–ø—Ä–æ—Å—ã ‚Äî —ç—Ç–æ —Ç—Ä–∞—Ç–∏—Ç —Ä–µ—Å—É—Ä—Å—ã –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç latency.

**–¢—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è:**

- **Closed** ‚Äî –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –æ—à–∏–±–∫–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è
- **Open** ‚Äî –∑–∞–ø—Ä–æ—Å—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è, —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ (fail fast)
- **Half-Open** ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

1. –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞ –æ—à–∏–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 50% –∑–∞ 10 —Å–µ–∫—É–Ω–¥) ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ Open
2. –ü–æ—Å–ª–µ —Ç–∞–π–º–∞—É—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 30 —Å–µ–∫—É–Ω–¥) ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ Half-Open
3. –ï—Å–ª–∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã —É—Å–ø–µ—à–Ω—ã ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –≤ Closed, –∏–Ω–∞—á–µ ‚Äî –æ–±—Ä–∞—Ç–Ω–æ –≤ Open

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:**

- –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–∞—Å–∫–∞–¥–Ω—ã—Ö —Å–±–æ–µ–≤ (–æ–¥–∏–Ω —É–ø–∞–≤—à–∏–π —Å–µ—Ä–≤–∏—Å –Ω–µ —Ä–æ–Ω—è–µ—Ç –≤—Å—é —Å–∏—Å—Ç–µ–º—É)
- –ë—ã—Å—Ç—Ä—ã–π fail –≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–Ω–∏—è —Ç–∞–π–º–∞—É—Ç–∞
- –î–∞—ë—Ç –≤—Ä–µ–º—è –ø—Ä–æ–±–ª–µ–º–Ω–æ–º—É —Å–µ—Ä–≤–∏—Å—É –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è

---

### 77. –ß—Ç–æ —Ç–∞–∫–æ–µ connection pooling –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?

Connection pool ‚Äî –∫—ç—à –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å.

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:**

- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è + SSL handshake + –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤ –ë–î –∑–∞–Ω–∏–º–∞–µ—Ç 50-200ms
- –ü—Ä–∏ 1000 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ –±–µ–∑ –ø—É–ª–∞ ‚Äî 1000 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∏ 1000 handshake'–æ–≤
- –° –ø—É–ª–æ–º –∏–∑ 20 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π ‚Äî 20 handshake'–æ–≤ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ, –¥–∞–ª—å—à–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É–ª–∞:**

- `MaxOpenConns` ‚Äî –º–∞–∫—Å–∏–º—É–º –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- `MaxIdleConns` ‚Äî –º–∞–∫—Å–∏–º—É–º –ø—Ä–æ—Å—Ç–∞–∏–≤–∞—é—â–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- `ConnMaxLifetime` ‚Äî –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–∑–∞—â–∏—Ç–∞ –æ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ –≤ –ë–î)

**–í Go (database/sql):**

```go
db.SetMaxOpenConns(25)
db.SetMaxIdleConns(5)
db.SetConnMaxLifetime(5 * time.Minute)
```

**–¢–∏–ø–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞:** —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π –ø—É–ª. PostgreSQL –ø–ª–æ—Ö–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å —Å–æ—Ç–Ω—è–º–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π ‚Äî –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PgBouncer –¥–ª—è connection pooling –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ë–î.

---

### 78. –ß—Ç–æ —Ç–∞–∫–æ–µ CAP-—Ç–µ–æ—Ä–µ–º–∞ –∏ –ø–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç—Ä–∏ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ?

CAP-—Ç–µ–æ—Ä–µ–º–∞ —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–≤–∞ –∏–∑ —Ç—Ä—ë—Ö —Å–≤–æ–π—Å—Ç–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:

- **Consistency (—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å)** ‚Äî –≤—Å–µ —É–∑–ª—ã –≤–∏–¥—è—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏
- **Availability (–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å)** ‚Äî –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç (—É—Å–ø–µ—Ö –∏–ª–∏ –æ—à–∏–±–∫–∞)
- **Partition tolerance (—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é)** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏

**–ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –≤—Å–µ —Ç—Ä–∏:** –ø—Ä–∏ —Å–µ—Ç–µ–≤–æ–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏ (P) —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–±—Ä–∞—Ç—å ‚Äî –ª–∏–±–æ –æ—Ç–≤–µ—á–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (A –±–µ–∑ C), –ª–∏–±–æ –æ—Ç–∫–∞–∑—ã–≤–∞—Ç—å –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –¥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤—è–∑–∏ (C –±–µ–∑ A).

**–ü—Ä–∏–º–µ—Ä—ã:**

- CP-—Å–∏—Å—Ç–µ–º—ã: PostgreSQL —Å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–µ–π, ZooKeeper ‚Äî –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- AP-—Å–∏—Å—Ç–µ–º—ã: Cassandra, DynamoDB ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ, eventual consistency
- CA-—Å–∏—Å—Ç–µ–º—ã: –≤–æ–∑–º–æ–∂–Ω—ã —Ç–æ–ª—å–∫–æ –≤ —Å–µ—Ç–∏ –±–µ–∑ —Å–±–æ–µ–≤ (–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç)

**–ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏:** —á–∞—Å—Ç–æ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç, –∫–∞–∫–æ–π –≤—ã–±–æ—Ä –¥–µ–ª–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ë–î –∏ –ø–æ—á–µ–º—É.

---

### 79. –ß—Ç–æ —Ç–∞–∫–æ–µ REST –∏ –∫–∞–∫–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã REST-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã?

REST (Representational State Transfer) ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Å—Ç–∏–ª—å –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≤–µ–±-—Å–µ—Ä–≤–∏—Å–æ–≤, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–π –†–æ–µ–º –§–∏–ª–¥–∏–Ω–≥–æ–º –≤ 2000 –≥–æ–¥—É.

**6 –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ REST:**

1. **Client-Server** ‚Äî –∫–ª–∏–µ–Ω—Ç –∏ —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑–¥–µ–ª–µ–Ω—ã, —Ä–∞–∑–≤–∏–≤–∞—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
2. **Stateless** ‚Äî —Å–µ—Ä–≤–µ—Ä –Ω–µ —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏; –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
3. **Cacheable** ‚Äî –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å, –º–æ–∂–Ω–æ –ª–∏ –∏—Ö –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å
4. **Uniform Interface** ‚Äî –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–µ—Å—É—Ä—Å—ã –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ URI, –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è —á–µ—Ä–µ–∑ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, —Å–∞–º–æ–æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, HATEOAS)
5. **Layered System** ‚Äî –∫–ª–∏–µ–Ω—Ç –Ω–µ –∑–Ω–∞–µ—Ç, –æ–±—â–∞–µ—Ç—Å—è –æ–Ω –Ω–∞–ø—Ä—è–º—É—é —Å —Å–µ—Ä–≤–µ—Ä–æ–º –∏–ª–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏/–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫
6. **Code on Demand (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)** ‚Äî —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π –∫–æ–¥ –∫–ª–∏–µ–Ω—Ç—É

**RESTful API** ‚Äî API, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º REST. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç HTTP-–º–µ—Ç–æ–¥—ã (GET, POST, PUT, DELETE), URI –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤, JSON/XML –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

---

### 80. –í —á—ë–º –æ—Å–Ω–æ–≤–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è HTTP/2 –æ—Ç HTTP/1.1?

HTTP/2 ‚Äî –±–∏–Ω–∞—Ä–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª (–≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ), —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ –∏ –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ.

**–ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è HTTP/2:**

- **–ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–¥—É—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ –æ–¥–Ω–æ–º—É TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—é, –Ω–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ head-of-line
- **–°–∂–∞—Ç–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (HPACK)** ‚Äî –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å–∂–∏–º–∞—é—Ç—Å—è –∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è, —ç–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö
- **Server Push** ‚Äî —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç –∏—Ö –∑–∞–ø—Ä–æ—Å–∏—Ç
- **–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –ø–æ—Ç–æ–∫–æ–≤** ‚Äî –∫–ª–∏–µ–Ω—Ç —É–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∞–∂–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤

**–ö–æ–≥–¥–∞ HTTP/2 –¥–∞—ë—Ç –≤—ã–∏–≥—Ä—ã—à:** —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –º–µ–ª–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (—Å–∫—Ä–∏–ø—Ç—ã, —Å—Ç–∏–ª–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è). –î–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –æ–¥–Ω–æ–≥–æ –±–æ–ª—å—à–æ–≥–æ —Ñ–∞–π–ª–∞ —Ä–∞–∑–Ω–∏—Ü–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞.

**–í–∞–∂–Ω–æ:** —Å–µ–º–∞–Ω—Ç–∏–∫–∞ HTTP –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å ‚Äî –º–µ—Ç–æ–¥—ã, —Å—Ç–∞—Ç—É—Å-–∫–æ–¥—ã, –∑–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Å—Ç–∞–ª–∏—Å—å –ø—Ä–µ–∂–Ω–∏–º–∏. HTTP/2 —Ç—Ä–µ–±—É–µ—Ç TLS –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö.

---

### 81. –ß—Ç–æ —Ç–∞–∫–æ–µ API Gateway –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö?

API Gateway ‚Äî –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –∫–ª–∏–µ–Ω—Ç –æ–±—Ä–∞—â–∞–ª—Å—è –∫ –¥–µ—Å—è—Ç–∫–∞–º —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞–ø—Ä—è–º—É—é, –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å Gateway.

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

- **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è** ‚Äî –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –Ω—É–∂–Ω–æ–º—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—É
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ, –∞ –Ω–µ –≤ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–∏—Å–µ
- **Rate limiting** ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞
- **–ê–≥—Ä–µ–≥–∞—Ü–∏—è** ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –æ–¥–∏–Ω
- **SSL termination** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTPS –Ω–∞ Gateway, –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏ ‚Äî HTTP
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–ü—Ä–∏–º–µ—Ä—ã:** Kong, NGINX, AWS API Gateway, Traefik.

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:** –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –æ—Ç–∫–∞–∑–∞ (–Ω—É–∂–Ω–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è), –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è latency, —É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

---

### 82. –ö–∞–∫–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã rate limiting —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ —á–µ–º –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è?

Rate limiting ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API –∑–∞ –µ–¥–∏–Ω–∏—Ü—É –≤—Ä–µ–º–µ–Ω–∏. –û—Å–Ω–æ–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã:

**Token Bucket** ‚Äî –∫–æ—Ä–∑–∏–Ω–∞ —Å —Ç–æ–∫–µ–Ω–∞–º–∏. –¢–æ–∫–µ–Ω—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é. –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∑–∞–±–∏—Ä–∞–µ—Ç —Ç–æ–∫–µ–Ω. –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞ ‚Äî –∑–∞–ø—Ä–æ—Å –æ—Ç–∫–ª–æ–Ω—ë–Ω. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ—Ä–æ—Ç–∫–∏–µ –≤—Å–ø–ª–µ—Å–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ (burst), –ø–æ–∫–∞ –≤ –∫–æ—Ä–∑–∏–Ω–µ –µ—Å—Ç—å —Ç–æ–∫–µ–Ω—ã.

**Leaky Bucket** ‚Äî –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ—á–µ—Ä–µ–¥—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é. –û—á–µ—Ä–µ–¥—å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∞ ‚Äî –∑–∞–ø—Ä–æ—Å –æ—Ç–∫–ª–æ–Ω—ë–Ω. –°–≥–ª–∞–∂–∏–≤–∞–µ—Ç —Ç—Ä–∞—Ñ–∏–∫, –Ω–æ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç burst.

**Fixed Window Counter** ‚Äî –≤—Ä–µ–º—è –¥–µ–ª–∏—Ç—Å—è –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–∫–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1 –º–∏–Ω—É—Ç–∞). –°—á—ë—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ–∫–Ω–∞. –ú–∏–Ω—É—Å: –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ –æ–∫–æ–Ω –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–≤–æ–π–Ω–æ–π –ª–∏–º–∏—Ç.

**Sliding Window Log** ‚Äî —Ö—Ä–∞–Ω–∏—Ç timestamp –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞. –¢–æ—á–Ω—ã–π, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ.

**Sliding Window Counter** ‚Äî –∫–æ–º–±–∏–Ω–∞—Ü–∏—è Fixed Window –∏ Sliding Window Log. –í–∑–≤–µ—à–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫–∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∏ —Ç–µ–∫—É—â–µ–≥–æ –æ–∫–Ω–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –≤—Ä–µ–º–µ–Ω–∏.

**–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:** Token Bucket ‚Äî —Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –≤—ã–±–æ—Ä (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Stripe, AWS). –•–æ—Ä–æ—à–æ –±–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç –º–µ–∂–¥—É —Ç–æ—á–Ω–æ—Å—Ç—å—é –∏ –¥–æ–ø—É—Å–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤—Å–ø–ª–µ—Å–∫–æ–≤. –í —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Redis.

---

### 83. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É JWT –∏ —Å–µ—Å—Å–∏–æ–Ω–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π?

**–°–µ—Å—Å–∏–æ–Ω–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (stateful):** —Å–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞—ë—Ç —Å–µ—Å—Å–∏—é –∏ —Ö—Ä–∞–Ω–∏—Ç –µ—ë –≤ –ø–∞–º—è—Ç–∏ –∏–ª–∏ –ë–î. –ö–ª–∏–µ–Ω—Ç—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è session ID –≤ cookie. –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ —Å–µ—Ä–≤–µ—Ä –∏—â–µ—Ç —Å–µ—Å—Å–∏—é –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

**JWT (stateless):** —Å–µ—Ä–≤–µ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –¢–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization`. –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å—å, –Ω–æ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–∫–µ–Ω.

**JWT –≤—ã–±–∏—Ä–∞—é—Ç –∫–æ–≥–¥–∞:**

- –ù—É–∂–Ω–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å (–Ω–µ—Ç –æ–±—â–µ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Å–µ—Å—Å–∏–π)
- –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã ‚Äî —Ç–æ–∫–µ–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –±–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ auth-—Å–µ—Ä–≤–∏—Å—É
- –ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî cookie –Ω–µ—É–¥–æ–±–Ω—ã

**–°–µ—Å—Å–∏–∏ –≤—ã–±–∏—Ä–∞—é—Ç –∫–æ–≥–¥–∞:**

- –ö—Ä–∏—Ç–∏—á–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ—Ç–∑—ã–≤–∞ (logout, –±–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- –í—ã—Å–æ–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–±–∞–Ω–∫–∏, –≥–æ—Å–æ—Ä–≥–∞–Ω—ã)
- –ù—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

**–ü—Ä–æ–±–ª–µ–º–∞ JWT:** —Ç–æ–∫–µ–Ω –Ω–µ–ª—å–∑—è –æ—Ç–æ–∑–≤–∞—Ç—å –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞. –†–µ—à–µ–Ω–∏—è: –∫–æ—Ä–æ—Ç–∫–∏–π `exp` + refresh token, –∏–ª–∏ blacklist –≤ Redis (—Ç–µ—Ä—è–µ—Ç—Å—è stateless-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ).

---

### 84. –ß—Ç–æ —Ç–∞–∫–æ–µ Load Balancer –∏ –∫–∞–∫–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç?

Load Balancer (–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–≥—Ä—É–∑–∫–∏) ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π –≤—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã:**

- **Round Robin** ‚Äî –∑–∞–ø—Ä–æ—Å—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ –æ—á–µ—Ä–µ–¥–∏: –ø–µ—Ä–≤—ã–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä 1, –≤—Ç–æ—Ä–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä 2, –∏ —Ç–∞–∫ –ø–æ –∫—Ä—É–≥—É. –ü—Ä–æ—Å—Ç, –Ω–æ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É —Å–µ—Ä–≤–µ—Ä–æ–≤
- **Weighted Round Robin** ‚Äî —Ç–æ –∂–µ, –Ω–æ —Å–µ—Ä–≤–µ—Ä–∞–º –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è –≤–µ—Å–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∏—Ö –º–æ—â–Ω–æ—Å—Ç–∏
- **Least Connections** ‚Äî –∑–∞–ø—Ä–æ—Å –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º —á–∏—Å–ª–æ–º –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π. –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É
- **Least Response Time** ‚Äî –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–µ—Ä–≤–µ—Ä —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –æ—Ç–≤–µ—Ç–∞
- **IP Hash** ‚Äî —Ö–µ—à IP-–∞–¥—Ä–µ—Å–∞ –∫–ª–∏–µ–Ω—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–µ—Ä–≤–µ—Ä. –û–¥–∏–Ω –∫–ª–∏–µ–Ω—Ç –≤—Å–µ–≥–¥–∞ –ø–æ–ø–∞–¥–∞–µ—Ç –Ω–∞ –æ–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä (–ø–æ–ª–µ–∑–Ω–æ –¥–ª—è stateful-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)

**Sticky Sessions** ‚Äî –æ–ø—Ü–∏—è, –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—â–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ —Å–µ—Ä–≤–µ—Ä—É –Ω–∞ –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏ —á–µ—Ä–µ–∑ cookie. –ù—É–∂–Ω–∞ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, –Ω–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ.

---

### 85. –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è –æ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π?

–†–µ–ø–ª–∏–∫–∞—Ü–∏—è ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (master) –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ (replica/slave) –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è —á—Ç–µ–Ω–∏—è.

**–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è:** —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ –Ω–∞ master, –¥–∞–Ω–Ω—ã–µ –¥–æ–µ–∑–∂–∞—é—Ç –¥–æ —Ä–µ–ø–ª–∏–∫ –≤ —Ñ–æ–Ω–µ. –ë—ã—Å—Ç—Ä–µ–µ, –Ω–æ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ master —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ—Ç–µ—Ä—è–Ω–∞ ‚Äî –æ–Ω–∏ –Ω–µ —É—Å–ø–µ–ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å—Å—è.

**–°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è:** —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ –Ω–∞ master –∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É —Ä–µ–ø–ª–∏–∫—É. –ú–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Ä–µ–ø–ª–∏–∫–∏ –∑–∞–ø–∏—Å—å –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è ‚Äî –Ω—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º –¥–≤–µ —Ä–µ–ø–ª–∏–∫–∏.

**–ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è ‚Äî –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –¥–æ–ø—É—Å—Ç–∏–º–∞ –ø–æ—Ç–µ—Ä—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è ‚Äî —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã, –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–í–∞–∂–Ω–æ:** —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Å–±–æ–µ–≤ (—Å–≥–æ—Ä–µ–ª –¥–∏—Å–∫), –Ω–æ –Ω–µ –æ—Ç –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö (–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–∫–æ–ø–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Ä–µ–ø–ª–∏–∫—É). –î–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –Ω—É–∂–µ–Ω –±—ç–∫–∞–ø.

---

### 86. –ß—Ç–æ —Ç–∞–∫–æ–µ gRPC –∏ —á–µ–º –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç REST?

gRPC ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä –æ—Ç Google. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç HTTP/2 –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –∏ Protocol Buffers (protobuf) –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç REST:**

- **–ü—Ä–æ—Ç–æ–∫–æ–ª:** gRPC ‚Äî –±–∏–Ω–∞—Ä–Ω—ã–π (protobuf), REST ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–π (JSON). –ë–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ –∏ –±—ã—Å—Ç—Ä–µ–µ –ø–∞—Ä—Å–∏—Ç—Å—è
- **–ö–æ–Ω—Ç—Ä–∞–∫—Ç:** gRPC —Ç—Ä–µ–±—É–µ—Ç —Å—Ç—Ä–æ–≥–æ–π —Å—Ö–µ–º—ã (`.proto` —Ñ–∞–π–ª), REST ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (OpenAPI)
- **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç:** gRPC —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ HTTP/2, REST ‚Äî –ø–æ HTTP/1.1 –∏–ª–∏ HTTP/2
- **–°—Ç—Ä–∏–º–∏–Ω–≥:** gRPC –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 4 —Ç–∏–ø–∞ –≤—ã–∑–æ–≤–æ–≤: unary, server streaming, client streaming, bidirectional streaming. REST ‚Äî —Ç–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç

**–ö–æ–≥–¥–∞ –≤—ã–±–∏—Ä–∞—Ç—å gRPC:**

- –ú–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö (–Ω–∏–∑–∫–∞—è latency)
- –î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Å—Ç—Ä–∏–º–∏–Ω–≥ (—á–∞—Ç—ã, real-time –¥–∞–Ω–Ω—ã–µ)
- –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∫—Ä–∏—Ç–∏—á–Ω–∞

**–ö–æ–≥–¥–∞ –≤—ã–±–∏—Ä–∞—Ç—å REST:**

- –ü—É–±–ª–∏—á–Ω–æ–µ API –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ (–±—Ä–∞—É–∑–µ—Ä—ã, –º–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
- –ü—Ä–æ—Å—Ç–∞—è –æ—Ç–ª–∞–¥–∫–∞ (JSON —á–∏—Ç–∞–µ–º —á–µ–ª–æ–≤–µ–∫–æ–º)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ HTTP

---

### 87. –ß–µ–º Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã?

**–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞ (VM)** –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –≥–æ—Å—Ç–µ–≤—É—é –û–° –ø–æ–≤–µ—Ä—Ö –≥–∏–ø–µ—Ä–≤–∏–∑–æ—Ä–∞. –ö–∞–∂–¥–∞—è VM –≤–∫–ª—é—á–∞–µ—Ç —Å–≤–æ—ë —è–¥—Ä–æ, —Å–∏—Å—Ç–µ–º–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ó–∞–ø—É—Å–∫ –∑–∞–Ω–∏–º–∞–µ—Ç –º–∏–Ω—É—Ç—ã, –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –≥–∏–≥–∞–±–∞–π—Ç—ã RAM.

**Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —è–¥—Ä–æ —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º—ã –∏ –∏–∑–æ–ª–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å—ã —á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω–∏–∑–º—ã Linux: namespaces (–∏–∑–æ–ª—è—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤) –∏ cgroups (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤). –ó–∞–ø—É—Å–∫ –∑–∞ —Å–µ–∫—É–Ω–¥—ã, –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ ‚Äî –º–µ–≥–∞–±–∞–π—Ç—ã.

**–ö–æ–≥–¥–∞ VM –ª—É—á—à–µ:** –Ω—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è (—Ä–∞–∑–Ω—ã–µ –û–°, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å), –∑–∞–ø—É—Å–∫ Windows –Ω–∞ Linux. **–ö–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ª—É—á—à–µ:** –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, CI/CD, –±—ã—Å—Ç—Ä–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ.

---

### 88. –ß—Ç–æ —Ç–∞–∫–æ–µ multi-stage build –≤ Docker –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω –¥–ª—è Go-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π?

Multi-stage build ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π `FROM` –≤ –æ–¥–Ω–æ–º Dockerfile. –ö–∞–∂–¥–∞—è —Å—Ç–∞–¥–∏—è –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ–π –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑, –∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É —Å—Ç–∞–¥–∏—è–º–∏ —á–µ—Ä–µ–∑ `COPY --from`.

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω –¥–ª—è Go:**

- –ü–µ—Ä–≤–∞—è —Å—Ç–∞–¥–∏—è ‚Äî –æ–±—Ä–∞–∑ —Å Go SDK –¥–ª—è —Å–±–æ—Ä–∫–∏ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞
- –í—Ç–æ—Ä–∞—è —Å—Ç–∞–¥–∏—è ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ (scratch, distroless, alpine) —Ç–æ–ª—å–∫–æ —Å –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–º
- –ò—Ç–æ–≥–æ–≤—ã–π –æ–±—Ä–∞–∑: ~10-30 –ú–ë –≤–º–µ—Å—Ç–æ ~1 –ì–ë —Å SDK

```dockerfile
FROM golang:1.23-alpine AS builder
WORKDIR /app
COPY go.mod go.sum ./
RUN go mod download
COPY . .
RUN CGO_ENABLED=0 go build -o main .

FROM alpine:latest
COPY --from=builder /app/main /main
ENTRYPOINT ["/main"]
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞ ‚Äî –±—ã—Å—Ç—Ä–µ–µ pull/push, –º–µ–Ω—å—à–µ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º –æ–±—Ä–∞–∑–µ –Ω–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ –∏ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–µ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Å–ª–æ–π —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

---

### 89. –ö–∞–∫–∏–µ —Å–ø–æ—Å–æ–±—ã –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è REST API —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –∫–∞–∫–æ–π –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ?

–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–µ—Ä—Å–∏–π API –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –≤–Ω–æ—Å–∏—Ç—å breaking changes –±–µ–∑ –ø–æ–ª–æ–º–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.

**–û—Å–Ω–æ–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã:**

- **URI versioning** ‚Äî –≤–µ—Ä—Å–∏—è –≤ –ø—É—Ç–∏: `/api/v1/users`, `/api/v2/users`. –°–∞–º—ã–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π, —è–≤–Ω—ã–π –∏ –ø—Ä–æ—Å—Ç–æ–π –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è
- **Query parameter** ‚Äî –≤–µ—Ä—Å–∏—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ: `/api/users?version=2`. –ú–µ–Ω–µ–µ —è–≤–Ω—ã–π, –º–æ–∂–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **Header versioning** ‚Äî –≤–µ—Ä—Å–∏—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ: `Accept: application/vnd.api.v2+json` –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–π `API-Version: 2`. –ß–∏—Å—Ç—ã–µ URL, –Ω–æ —Å–ª–æ–∂–Ω–µ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å
- **Media type (content negotiation)** ‚Äî –≤–µ—Ä—Å–∏—è –≤ Accept header: `Accept: application/vnd.company.myapp-v2+json`. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç REST-–ø—Ä–∏–Ω—Ü–∏–ø–∞–º, –Ω–æ —Å–ª–æ–∂–µ–Ω –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** URI versioning (`/v1/`, `/v2/`) ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç –∏–Ω–¥—É—Å—Ç—Ä–∏–∏. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ GitHub, Stripe, Google APIs. –ü—Ä–æ—Å—Ç –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏ –æ—Ç–ª–∞–¥–∫–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä.

---

### 90. –ß—Ç–æ —Ç–∞–∫–æ–µ HATEOAS –∏ –ø–æ—á–µ–º—É –µ–≥–æ —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ?

HATEOAS (Hypermedia as the Engine of Application State) ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø REST, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ –æ—Ç–≤–µ—Ç–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è. –ö–ª–∏–µ–Ω—Ç –Ω–µ –∑–Ω–∞–µ—Ç –∑–∞—Ä–∞–Ω–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É API ‚Äî –æ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —É–∑–Ω–∞—ë—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–∑ –æ—Ç–≤–µ—Ç–æ–≤.

```json
{
  "id": 123,
  "name": "Ivan",
  "links": [
    { "rel": "self", "href": "/users/123" },
    { "rel": "orders", "href": "/users/123/orders" },
    { "rel": "delete", "href": "/users/123", "method": "DELETE" }
  ]
}
```

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:**

- –ö–ª–∏–µ–Ω—Ç –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã—Ö URL ‚Äî –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã API –∫–ª–∏–µ–Ω—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- API —Å–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è ‚Äî –∫–ª–∏–µ–Ω—Ç —É–∑–Ω–∞—ë—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –∏–∑ –æ—Ç–≤–µ—Ç–∞

**–ü–æ—á–µ–º—É —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç:**

- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –æ—Ç–≤–µ—Ç–∞
- –ö–ª–∏–µ–Ω—Ç—ã (–æ—Å–æ–±–µ–Ω–Ω–æ –º–æ–±–∏–ª—å–Ω—ã–µ) –≤—Å—ë —Ä–∞–≤–Ω–æ —Ö–∞—Ä–¥–∫–æ–¥—è—Ç URL –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –°–ª–æ–∂–Ω–µ–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ API –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω—ã, —á—Ç–æ–±—ã –Ω–µ –º–µ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É URL

**–ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏:** –∑–Ω–∞–Ω–∏–µ HATEOAS –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ REST. –†–æ–π –§–∏–ª–¥–∏–Ω–≥ —Å—á–∏—Ç–∞–µ—Ç, —á—Ç–æ –±–µ–∑ HATEOAS API –Ω–µ–ª—å–∑—è –Ω–∞–∑—ã–≤–∞—Ç—å RESTful.

---

### 91. –ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è —Å–∏–≥–Ω–∞–ª—ã SIGTERM –∏ SIGKILL –≤ Linux?

–°–∏–≥–Ω–∞–ª—ã ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º –º–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –≤ Unix/Linux –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –æ —Å–æ–±—ã—Ç–∏—è—Ö.

**SIGTERM (15)** ‚Äî ¬´–≤–µ–∂–ª–∏–≤—ã–π¬ª –∑–∞–ø—Ä–æ—Å –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ. –ü—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å —Å–∏–≥–Ω–∞–ª, –≤—ã–ø–æ–ª–Ω–∏—Ç—å cleanup (–∑–∞–∫—Ä—ã—Ç—å —Ñ–∞–π–ª—ã, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ) –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è. –ö–æ–º–∞–Ω–¥–∞ `kill PID` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–º–µ–Ω–Ω–æ SIGTERM.

**SIGKILL (9)** ‚Äî –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ. –ü—Ä–æ—Ü–µ—Å—Å –Ω–µ –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å –∏–ª–∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Å–∏–≥–Ω–∞–ª ‚Äî —è–¥—Ä–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —É–±–∏–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –∫—Ä–∞–π–Ω—è—è –º–µ—Ä–∞, –∫–æ–≥–¥–∞ –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ SIGTERM.

**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ –¥–ª—è backend-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:**

- Kubernetes –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç SIGTERM –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–æ–¥–∞, –∑–∞—Ç–µ–º –∂–¥—ë—Ç grace period (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 30 —Å–µ–∫—É–Ω–¥) –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç SIGKILL
- Graceful shutdown –≤ Go: –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º SIGTERM —á–µ—Ä–µ–∑ `signal.Notify`, –∑–∞–≤–µ—Ä—à–∞–µ–º —Ç–µ–∫—É—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã, –∑–∞–∫—Ä—ã–≤–∞–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- SIGKILL –Ω–µ –¥–∞—ë—Ç –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ cleanup ‚Äî –≤–æ–∑–º–æ–∂–Ω–∞ –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö, –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

**–î—Ä—É–≥–∏–µ –≤–∞–∂–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã:**

- `SIGINT (2)` ‚Äî –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ (Ctrl+C)
- `SIGHUP (1)` ‚Äî —Ä–∞–∑—Ä—ã–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º, —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ—á–∏—Ç—ã–≤–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞
- `SIGSTOP/SIGCONT` ‚Äî –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞

---

### 92. –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö?

**–ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (partitioning)** ‚Äî —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –±–æ–ª—å—à–æ–π —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —á–∞—Å—Ç–∏ (–ø–∞—Ä—Ç–∏—Ü–∏–∏) –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –ë–î. –î–∞–Ω–Ω—ã–µ –¥–µ–ª—è—Ç—Å—è –ø–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É –∫—Ä–∏—Ç–µ—Ä–∏—é (–¥–∞—Ç–∞, –¥–∏–∞–ø–∞–∑–æ–Ω ID, —Ö–µ—à), –Ω–æ –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ–π –º–∞—à–∏–Ω–µ. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–∞–±–ª–∏—Ü–µ–π –∫–∞–∫ –æ–±—ã—á–Ω–æ ‚Äî –ë–î —Å–∞–º–∞ –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –≤ –Ω—É–∂–Ω—É—é –ø–∞—Ä—Ç–∏—Ü–∏—é.

**–®–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (sharding)** ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏ (—à–∞—Ä–¥–∞–º–∏). –ö–∞–∂–¥—ã–π —à–∞—Ä–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–Ω–æ–º–Ω–æ. –¢—Ä–µ–±—É–µ—Ç –ª–æ–≥–∏–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ middleware.

**–ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:**

- –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –æ–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä, —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤
- –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ
- –®–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—ë—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —Ç–æ–ª—å–∫–æ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

**–ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –∫–æ–≥–¥–∞ —Ç–∞–±–ª–∏—Ü–∞ –±–æ–ª—å—à–∞—è, –Ω–æ –æ–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è. –®–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –æ–¥–Ω–æ–π –º–∞—à–∏–Ω—ã (—Ç–µ—Ä–∞–±–∞–π—Ç—ã –¥–∞–Ω–Ω—ã—Ö, –≤—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –∑–∞–ø–∏—Å—å).

---

### 93. –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è TCP –æ—Ç UDP –∏ —á—Ç–æ —Ç–∞–∫–æ–µ TCP handshake?

**TCP (Transmission Control Protocol)** ‚Äî –Ω–∞–¥—ë–∂–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É —Å–µ—Ç–∏.

**UDP (User Datagram Protocol)** ‚Äî –Ω–µ–Ω–∞–¥—ë–∂–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –±–µ–∑ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∞–∫–µ—Ç—ã –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏. –ë—ã—Å—Ç—Ä–µ–µ TCP, –Ω–æ –ø–∞–∫–µ—Ç—ã –º–æ–≥—É—Ç —Ç–µ—Ä—è—Ç—å—Å—è, –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏–ª–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

**TCP handshake (—Ç—Ä—ë—Ö—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ —Ä—É–∫–æ–ø–æ–∂–∞—Ç–∏–µ)** ‚Äî –ø—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:

1. **SYN** ‚Äî –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∞–∫–µ—Ç —Å —Ñ–ª–∞–≥–æ–º SYN –∏ –Ω–∞—á–∞–ª—å–Ω—ã–º –Ω–æ–º–µ—Ä–æ–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
2. **SYN-ACK** ‚Äî —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –ø–∞–∫–µ—Ç–æ–º —Å —Ñ–ª–∞–≥–∞–º–∏ SYN –∏ ACK, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—è –ø–æ–ª—É—á–µ–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—è —Å–≤–æ–π –Ω–æ–º–µ—Ä –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. **ACK** ‚Äî –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å TCP:** HTTP/HTTPS, –ø–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤, email, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ‚Äî –≤–µ–∑–¥–µ, –≥–¥–µ –≤–∞–∂–Ω–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UDP:** DNS-–∑–∞–ø—Ä–æ—Å—ã, –≤–∏–¥–µ–æ-—Å—Ç—Ä–∏–º–∏–Ω–≥, –æ–Ω–ª–∞–π–Ω-–∏–≥—Ä—ã, VoIP ‚Äî –≥–¥–µ —Å–∫–æ—Ä–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –∏ –¥–æ–ø—É—Å—Ç–∏–º–∞ –ø–æ—Ç–µ—Ä—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤.

---

### 94. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –≤–≤–æ–¥–∏—à—å URL –≤ –±—Ä–∞—É–∑–µ—Ä –∏ –Ω–∞–∂–∏–º–∞–µ—à—å Enter?

–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –≤–æ–ø—Ä–æ—Å, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–π –ø–æ–Ω–∏–º–∞–Ω–∏–µ –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π. –û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã:

1. **–ü–∞—Ä—Å–∏–Ω–≥ URL** ‚Äî –±—Ä–∞—É–∑–µ—Ä —Ä–∞–∑–±–∏—Ä–∞–µ—Ç URL –Ω–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª, –¥–æ–º–µ–Ω, –ø–æ—Ä—Ç, –ø—É—Ç—å
2. **DNS-—Ä–µ–∑–æ–ª–≤–∏–Ω–≥** ‚Äî –ø–æ–∏—Å–∫ IP-–∞–¥—Ä–µ—Å–∞: –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ ‚Üí –∫—ç—à –û–° ‚Üí —Ñ–∞–π–ª hosts ‚Üí DNS-—Å–µ—Ä–≤–µ—Ä
3. **TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** ‚Äî —Ç—Ä—ë—Ö—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ —Ä—É–∫–æ–ø–æ–∂–∞—Ç–∏–µ (SYN ‚Üí SYN-ACK ‚Üí ACK)
4. **TLS-—Ö–µ–Ω–¥—à–µ–π–∫** ‚Äî –¥–ª—è HTTPS: –æ–±–º–µ–Ω —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–π —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
5. **HTTP-–∑–∞–ø—Ä–æ—Å** ‚Äî –±—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç GET-–∑–∞–ø—Ä–æ—Å —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ (Host, User-Agent, Accept)
6. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ** ‚Äî —Ä–æ—É—Ç–∏–Ω–≥, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞, –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î, —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
7. **HTTP-–æ—Ç–≤–µ—Ç** ‚Äî —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å-–∫–æ–¥, –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ —Ç–µ–ª–æ (HTML)
8. **–†–µ–Ω–¥–µ—Ä–∏–Ω–≥** ‚Äî –±—Ä–∞—É–∑–µ—Ä –ø–∞—Ä—Å–∏—Ç HTML, —Å—Ç—Ä–æ–∏—Ç DOM, –∑–∞–≥—Ä—É–∂–∞–µ—Ç CSS/JS, –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É

**–ß—Ç–æ –æ–∂–∏–¥–∞—é—Ç –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏:** –≥–ª—É–±–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—Ä–æ–≤–Ω—è. Junior ‚Äî –±–∞–∑–æ–≤—ã–π flow. Middle ‚Äî –¥–µ—Ç–∞–ª–∏ DNS, TCP, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ. Senior ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, CDN, connection pooling, HTTP/2.

---

### 95. –ß—Ç–æ —Ç–∞–∫–æ–µ OWASP Top 10 –∏ –∫–∞–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ —Ç—É–¥–∞ –≤—Ö–æ–¥—è—Ç?

OWASP Top 10 ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –¥–µ—Å—è—Ç—å –Ω–∞–∏–±–æ–ª–µ–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ä–∞–∑ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ–± –∞—Ç–∞–∫–∞—Ö.

**–ö–ª—é—á–µ–≤—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ (–≤–µ—Ä—Å–∏—è 2021, –∞–∫—Ç—É–∞–ª—å–Ω–∞ –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–π):**

- **A01: Broken Access Control** ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –µ–º—É –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã (IDOR, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–µ–π)
- **A02: Cryptographic Failures** ‚Äî –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: –ø–∞—Ä–æ–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ, —Å–ª–∞–±—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ HTTPS
- **A03: Injection** ‚Äî –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∫–æ–¥–∞ (SQL, NoSQL, OS, LDAP) —á–µ—Ä–µ–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥ –±–µ–∑ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏
- **A04: Insecure Design** ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–¥–æ–º
- **A05: Security Misconfiguration** ‚Äî –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø–∞—Ä–æ–ª–∏, –æ—Ç–∫—Ä—ã—Ç—ã–µ debug-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ø—Ä–∞–≤–∞
- **A06: Vulnerable Components** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ —Å –∏–∑–≤–µ—Å—Ç–Ω—ã–º–∏ —É—è–∑–≤–∏–º–æ—Å—Ç—è–º–∏
- **A07: Authentication Failures** ‚Äî —Å–ª–∞–±—ã–µ –ø–∞—Ä–æ–ª–∏, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ rate-limiting –Ω–∞ –ª–æ–≥–∏–Ω, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Å–µ—Å—Å–∏—è–º–∏

**–ß—Ç–æ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è—Ö:** –æ–±—ã—á–Ω–æ –ø—Ä–æ—Å—è—Ç –Ω–∞–∑–≤–∞—Ç—å 3-5 —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –∏ –æ–±—ä—è—Å–Ω–∏—Ç—å, –∫–∞–∫ –æ—Ç –Ω–∏—Ö –∑–∞—â–∏—Ç–∏—Ç—å—Å—è. –û—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω—ã SQL Injection (–ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã), XSS (—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞, CSP) –∏ Broken Access Control (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ backend).

---

### 96. –ß—Ç–æ —Ç–∞–∫–æ–µ Dead Letter Queue –∏ –∑–∞—á–µ–º –æ–Ω–∞ –Ω—É–∂–Ω–∞?

Dead Letter Queue (DLQ) ‚Äî –æ—á–µ—Ä–µ–¥—å –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É–¥–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å. –í–º–µ—Å—Ç–æ –ø–æ—Ç–µ—Ä–∏ –∏–ª–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ retry –Ω–µ—É—Å–ø–µ—à–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –æ—á–µ—Ä–µ–¥—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ —Ä—É—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.

**–ö–æ–≥–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ DLQ:**

- –ü—Ä–µ–≤—ã—à–µ–Ω–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –ø–æ–ø—ã—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ò—Å—Ç—ë–∫ TTL —Å–æ–æ–±—â–µ–Ω–∏—è
- –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å —è–≤–Ω–æ –æ—Ç–∫–ª–æ–Ω–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ (reject/nack –±–µ–∑ requeue)
- –û—á–µ—Ä–µ–¥—å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∞

**–¢–∏–ø–∏—á–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω:**

1. –°–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–º consumer'–æ–º
2. –ü—Ä–∏ –æ—à–∏–±–∫–µ ‚Äî retry —Å exponential backoff (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3 –ø–æ–ø—ã—Ç–∫–∏)
3. –ü–æ—Å–ª–µ –∏—Å—á–µ—Ä–ø–∞–Ω–∏—è –ø–æ–ø—ã—Ç–æ–∫ ‚Äî –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ DLQ
4. –ê–ª–µ—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, —Ä—É—á–Ω–æ–π —Ä–∞–∑–±–æ—Ä –ø—Ä–∏—á–∏–Ω

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö:**

- RabbitMQ ‚Äî —á–µ—Ä–µ–∑ Dead Letter Exchange (DLX), –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ—á–µ—Ä–µ–¥–∏
- Kafka ‚Äî –Ω–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π DLQ, —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º —Ç–æ–ø–∏–∫–æ–º –∏ –ª–æ–≥–∏–∫–æ–π –≤ consumer'–µ
- AWS SQS ‚Äî –Ω–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ DLQ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π maxReceiveCount

**–ó–∞—á–µ–º –Ω—É–∂–Ω–∞:** –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ —Ç–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ, –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥—å ¬´—è–¥–æ–≤–∏—Ç—ã–º–∏¬ª —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—á–∏–Ω—ã —Å–±–æ–µ–≤.

---

### 97. –ö–∞–∫–∏–µ —Ç–∏–ø—ã JOIN —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ SQL –∏ —á–µ–º –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è?

**INNER JOIN** ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏, –≥–¥–µ –µ—Å—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö.

**LEFT JOIN** ‚Äî –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ª–µ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã + —Å–æ–≤–ø–∞–¥–∞—é—â–∏–µ –∏–∑ –ø—Ä–∞–≤–æ–π. –ï—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –Ω–µ—Ç, –ø—Ä–∞–≤–∞—è —á–∞—Å—Ç—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è NULL.

**RIGHT JOIN** ‚Äî –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã + —Å–æ–≤–ø–∞–¥–∞—é—â–∏–µ –∏–∑ –ª–µ–≤–æ–π. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–¥–∫–æ ‚Äî –æ–±—ã—á–Ω–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—é—Ç –Ω–∞ LEFT JOIN, –º–µ–Ω—è—è –ø–æ—Ä—è–¥–æ–∫ —Ç–∞–±–ª–∏—Ü.

**FULL OUTER JOIN** ‚Äî –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü. –ì–¥–µ –Ω–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è ‚Äî NULL. PostgreSQL –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç, MySQL ‚Äî –Ω–µ—Ç (—ç–º—É–ª–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ UNION).

**CROSS JOIN** ‚Äî –¥–µ–∫–∞—Ä—Ç–æ–≤–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ: –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Ä–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã —Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è —Å –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–æ–π –≤—Ç–æ—Ä–æ–π. –†–µ–∑—É–ª—å—Ç–∞—Ç = N √ó M —Å—Ç—Ä–æ–∫.

```sql
-- INNER JOIN: —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –∑–∞–∫–∞–∑–∞–º–∏
SELECT u.name, o.total FROM users u
INNER JOIN orders o ON u.id = o.user_id;

-- LEFT JOIN: –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –¥–∞–∂–µ –±–µ–∑ –∑–∞–∫–∞–∑–æ–≤
SELECT u.name, o.total FROM users u
LEFT JOIN orders o ON u.id = o.user_id;
```

**–ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —á–∞—Å—Ç–æ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç:** –æ—Ç–ª–∏—á–∏–µ INNER –æ—Ç LEFT, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ç–∏–ø, –∏ –ø–æ—á–µ–º—É `SELECT * FROM a, b` –±–µ–∑ WHERE ‚Äî —ç—Ç–æ CROSS JOIN.

---

### 98. –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ—Ç –ø–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω–æ–π?

–î–≤–∞ –ø–æ–¥—Ö–æ–¥–∞ –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –≤ –±–∞–∑–µ.

**–ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (pessimistic locking)** ‚Äî –±–ª–æ–∫–∏—Ä—É–µ–º –∑–∞–ø–∏—Å—å –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã. –î—Ä—É–≥–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∂–¥—É—Ç –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è. –†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `SELECT ... FOR UPDATE` –∏–ª–∏ `LOCK IN SHARE MODE`.

```sql
BEGIN;
SELECT * FROM accounts WHERE id = 1 FOR UPDATE; -- –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ç—Ä–æ–∫–∏
UPDATE accounts SET balance = balance - 100 WHERE id = 1;
COMMIT; -- –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
```

**–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (optimistic locking)** ‚Äî –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ–º, –Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å. –†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–æ–ª–µ –≤–µ—Ä—Å–∏–∏ (`version`) –∏–ª–∏ `updated_at`:

```sql
UPDATE accounts
SET balance = balance - 100, version = version + 1
WHERE id = 1 AND version = 5;  -- WHERE –≤–∫–ª—é—á–∞–µ—Ç —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é
-- –ï—Å–ª–∏ affected rows = 0, –∑–Ω–∞—á–∏—Ç –∫—Ç–æ-—Ç–æ –∏–∑–º–µ–Ω–∏–ª –¥–∞–Ω–Ω—ã–µ ‚Üí retry
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

- –ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω–∞—è ‚Äî –≤—ã—Å–æ–∫–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è –∑–∞ –¥–∞–Ω–Ω—ã–µ, –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —á–∞—Å—Ç—ã (—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è ‚Äî –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Ä–µ–¥–∫–∏, –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —É—Å–ø–µ—à–Ω—ã (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏)

**–ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —á–∞—Å—Ç–æ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç:** –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—É—é –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –≤ –∫–æ–¥–µ, —á—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ (retry —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff), –∏ –ø–æ—á–µ–º—É –ø–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ deadlock.

---

### 99. –ß—Ç–æ —Ç–∞–∫–æ–µ Idempotency Key –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω –≤ API?

Idempotency Key ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å –∑–∞–ø—Ä–æ—Å–æ–º, —á—Ç–æ–±—ã —Å–µ—Ä–≤–µ—Ä –º–æ–≥ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö.

**–ü—Ä–æ–±–ª–µ–º–∞:** POST-–∑–∞–ø—Ä–æ—Å—ã –Ω–µ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã. –ï—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞, –Ω–æ –Ω–µ –ø–æ–ª—É—á–∏–ª –æ—Ç–≤–µ—Ç (—Ç–∞–π–º–∞—É—Ç, —Ä–∞–∑—Ä—ã–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è), –æ–Ω –Ω–µ –∑–Ω–∞–µ—Ç ‚Äî –∑–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω –∏–ª–∏ –Ω–µ—Ç. –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å—Å—è –¥—É–±–ª–∏–∫–∞—Ç.

**–†–µ—à–µ–Ω–∏–µ ‚Äî Idempotency Key:**

1. –ö–ª–∏–µ–Ω—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á (UUID) –¥–ª—è –∫–∞–∂–¥–æ–π –ª–æ–≥–∏—á–µ—Å–∫–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
2. –ö–ª—é—á –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ: `Idempotency-Key: 550e8400-e29b-41d4-a716-446655440000`
3. –°–µ—Ä–≤–µ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–ª—é—á –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ (–≤ Redis –∏–ª–∏ –ë–î)
4. –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ —Å —Ç–µ–º –∂–µ –∫–ª—é—á–æ–º —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**

- –ü–ª–∞—Ç—ë–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã (Stripe, PayPal) ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ —Å–ø–∏—Å–∞–Ω–∏—è
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**–í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã:**

- –ö–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å TTL (–æ–±—ã—á–Ω–æ 24 —á–∞—Å–∞) ‚Äî –Ω–µ–ª—å–∑—è —Ö—Ä–∞–Ω–∏—Ç—å –≤–µ—á–Ω–æ
- –ü—Ä–∏ concurrent –∑–∞–ø—Ä–æ—Å–∞—Ö —Å –æ–¥–Ω–∏–º –∫–ª—é—á–æ–º –Ω—É–∂–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞, —á—Ç–æ–±—ã –≤—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –¥–æ–∂–¥–∞–ª—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–µ—Ä–≤–æ–≥–æ
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –Ω—É–∂–Ω–æ –∏ —É—Å–ø–µ—à–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, –∏ –æ—à–∏–±–∫–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (–Ω–æ –Ω–µ —Å–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏)

---

### 100. –ß—Ç–æ —Ç–∞–∫–æ–µ reverse proxy –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?

Reverse proxy (–æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏) ‚Äî —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –Ω–∞ backend-—Å–µ—Ä–≤–µ—Ä—ã. –ö–ª–∏–µ–Ω—Ç –Ω–µ –∑–Ω–∞–µ—Ç –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ backend-—Å–µ—Ä–≤–µ—Ä–æ–≤ –∏ –¥—É–º–∞–µ—Ç, —á—Ç–æ –æ–±—â–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é —Å –ø—Ä–æ–∫—Å–∏.

**–û—Ç–ª–∏—á–∏–µ –æ—Ç forward proxy:** forward proxy —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç –∏–º–µ–Ω–∏ –∫–ª–∏–µ–Ω—Ç–∞ (–±—Ä–∞—É–∑–µ—Ä ‚Üí proxy ‚Üí –∏–Ω—Ç–µ—Ä–Ω–µ—Ç), reverse proxy —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–µ—Ä–∞ (–∫–ª–∏–µ–Ω—Ç ‚Üí proxy ‚Üí backend).

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:**

- **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏** ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ backend-—Å–µ—Ä–≤–µ—Ä–∞–º–∏
- **SSL-—Ç–µ—Ä–º–∏–Ω–∞—Ü–∏—è** ‚Äî —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç HTTPS –Ω–∞ –ø—Ä–æ–∫—Å–∏, backend –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ã—á–Ω—ã–π HTTP
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —Ö—Ä–∞–Ω–∏—Ç —Å—Ç–∞—Ç–∏–∫—É –∏ –æ—Ç–≤–µ—Ç—ã, —Å–Ω–∏–∂–∞—è –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ backend
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî —Å–∫—Ä—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ IP-–∞–¥—Ä–µ—Å–∞ backend-—Å–µ—Ä–≤–µ—Ä–æ–≤, –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç DDoS
- **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞** ‚Äî –æ–¥–∏–Ω –≤–Ω–µ—à–Ω–∏–π IP –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**–ü—Ä–∏–º–µ—Ä—ã:** Nginx, HAProxy, Traefik, Envoy.

**–ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ –º–æ–≥—É—Ç —Å–ø—Ä–æ—Å–∏—Ç—å:** —á–µ–º reverse proxy –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç load balancer (reverse proxy ‚Äî –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–æ–µ –ø–æ–Ω—è—Ç–∏–µ, –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ ‚Äî –æ–¥–Ω–∞ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–π), –∏ –ø–æ—á–µ–º—É Nginx —á–∞—Å—Ç–æ —Å—Ç–∞–≤—è—Ç –ø–µ—Ä–µ–¥ Go-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º (SSL-—Ç–µ—Ä–º–∏–Ω–∞—Ü–∏—è, —Å—Ç–∞—Ç–∏–∫–∞, –∑–∞—â–∏—Ç–∞ –æ—Ç –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤).

---

## –°—Å—ã–ª–∫–∏

[goroutines]: https://gbe.intocode.ru/goroutines
[channels]: https://gbe.intocode.ru/channels
[channel-buffering]: https://gbe.intocode.ru/channel-buffering
[select]: https://gbe.intocode.ru/select
[slices]: https://gbe.intocode.ru/slices
[maps]: https://gbe.intocode.ru/maps
[closures]: https://gbe.intocode.ru/closures
[pointers]: https://gbe.intocode.ru/pointers
[strings-and-runes]: https://gbe.intocode.ru/strings-and-runes
[structs]: https://gbe.intocode.ru/structs
[methods]: https://gbe.intocode.ru/methods
[interfaces]: https://gbe.intocode.ru/interfaces
[generics]: https://gbe.intocode.ru/generics
[errors]: https://gbe.intocode.ru/errors
[panic]: https://gbe.intocode.ru/panic
[defer]: https://gbe.intocode.ru/defer
[recover]: https://gbe.intocode.ru/recover
[mutexes]: https://gbe.intocode.ru/mutexes
[waitgroups]: https://gbe.intocode.ru/waitgroups
[atomic-counters]: https://gbe.intocode.ru/atomic-counters
[context]: https://gbe.intocode.ru/context
[json]: https://gbe.intocode.ru/json
[testing-and-benchmarking]: https://gbe.intocode.ru/testing-and-benchmarking
[http-server]: https://gbe.intocode.ru/http-server
[signals]: https://gbe.intocode.ru/signals
[struct-embedding]: https://gbe.intocode.ru/struct-embedding
[timers]: https://gbe.intocode.ru/timers
[tickers]: https://gbe.intocode.ru/tickers
[constants]: https://gbe.intocode.ru/constants
[functions]: https://gbe.intocode.ru/functions
[arrays]: https://gbe.intocode.ru/arrays
[range-over-built-in-types]: https://gbe.intocode.ru/range-over-built-in-types
[enums]: https://gbe.intocode.ru/enums
